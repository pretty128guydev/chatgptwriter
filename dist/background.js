chrome.action.onClicked.addListener((e=>{console.log("Click received."),chrome.scripting.executeScript({target:{tabId:e.id},files:["content.js"]}),chrome.tabs.sendMessage(e.id,{action:"toggleDialog"})})),chrome.runtime.onMessage.addListener(((e,t,n)=>{if("fetchIndex"===e.action)return fetch(chrome.runtime.getURL("index.html")).then((e=>e.text())).then((e=>n({content:e}))).catch((e=>n({error:"Failed to load content."}))),!0}));