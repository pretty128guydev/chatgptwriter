/*! For license information please see modal.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("React"),require("ReactDOM"));else if("function"==typeof define&&define.amd)define(["React","ReactDOM"],t);else{var n="object"==typeof exports?t(require("React"),require("ReactDOM")):t(e.React,e.ReactDOM);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,((e,t)=>(()=>{var n={53:(e,t,n)=>{"use strict";function r(e){var t,n,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(s&&(s+=" "),s+=n);else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function s(){for(var e,t,n=0,s="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(s&&(s+=" "),s+=t);return s}n.r(t),n.d(t,{clsx:()=>s,default:()=>o});const o=s},972:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(354),s=n.n(r),o=n(314),a=n.n(o)()(s());a.push([e.id,"*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}/*\n! tailwindcss v3.4.13 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: '';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user's configured `sans` font-family by default.\n5. Use the user's configured `sans` font-feature-settings by default.\n6. Use the user's configured `sans` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n\nhtml,\n:host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */ /* 3 */\n  tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user's configured `mono` font-family by default.\n2. Use the user's configured `mono` font-feature-settings by default.\n3. Use the user's configured `mono` font-variation-settings by default.\n4. Correct the odd `em` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\ninput:where([type='button']),\ninput:where([type='reset']),\ninput:where([type='submit']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user's configured gray 400 color.\n*/\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role=\"button\"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don't get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden] {\n  display: none;\n}\n.fixed {\n  position: fixed;\n}\n.absolute {\n  position: absolute;\n}\n.relative {\n  position: relative;\n}\n.inset-0 {\n  inset: 0px;\n}\n.bottom-\\[35px\\] {\n  bottom: 35px;\n}\n.z-10 {\n  z-index: 10;\n}\n.z-50 {\n  z-index: 50;\n}\n.m-4 {\n  margin: 1rem;\n}\n.m-\\[35px\\] {\n  margin: 35px;\n}\n.mb-1 {\n  margin-bottom: 0.25rem;\n}\n.mb-2 {\n  margin-bottom: 0.5rem;\n}\n.mb-4 {\n  margin-bottom: 1rem;\n}\n.ml-2 {\n  margin-left: 0.5rem;\n}\n.ml-3 {\n  margin-left: 0.75rem;\n}\n.ml-4 {\n  margin-left: 1rem;\n}\n.ml-8 {\n  margin-left: 2rem;\n}\n.mr-2 {\n  margin-right: 0.5rem;\n}\n.mt-2 {\n  margin-top: 0.5rem;\n}\n.mt-3 {\n  margin-top: 0.75rem;\n}\n.inline-block {\n  display: inline-block;\n}\n.flex {\n  display: flex;\n}\n.inline-flex {\n  display: inline-flex;\n}\n.grid {\n  display: grid;\n}\n.h-10 {\n  height: 2.5rem;\n}\n.h-4 {\n  height: 1rem;\n}\n.h-5 {\n  height: 1.25rem;\n}\n.h-6 {\n  height: 1.5rem;\n}\n.h-\\[30px\\] {\n  height: 30px;\n}\n.h-\\[36px\\] {\n  height: 36px;\n}\n.w-10 {\n  width: 2.5rem;\n}\n.w-4 {\n  width: 1rem;\n}\n.w-5 {\n  width: 1.25rem;\n}\n.w-6 {\n  width: 1.5rem;\n}\n.w-\\[107px\\] {\n  width: 107px;\n}\n.w-\\[120px\\] {\n  width: 120px;\n}\n.w-\\[140px\\] {\n  width: 140px;\n}\n.w-\\[150px\\] {\n  width: 150px;\n}\n.w-\\[700px\\] {\n  width: 700px;\n}\n.w-\\[90px\\] {\n  width: 90px;\n}\n.w-full {\n  width: 100%;\n}\n.flex-grow {\n  flex-grow: 1;\n}\n.origin-top-right {\n  transform-origin: top right;\n}\n@keyframes spin {\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n.animate-spin {\n  animation: spin 1s linear infinite;\n}\n.cursor-not-allowed {\n  cursor: not-allowed;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.resize {\n  resize: both;\n}\n.items-center {\n  align-items: center;\n}\n.justify-center {\n  justify-content: center;\n}\n.justify-between {\n  justify-content: space-between;\n}\n.gap-2 {\n  gap: 0.5rem;\n}\n.gap-4 {\n  gap: 1rem;\n}\n.space-x-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.5rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.overflow-auto {\n  overflow: auto;\n}\n.overflow-hidden {\n  overflow: hidden;\n}\n.rounded {\n  border-radius: 0.25rem;\n}\n.rounded-custom-small {\n  border-radius: 5px;\n}\n.rounded-full {\n  border-radius: 9999px;\n}\n.rounded-lg {\n  border-radius: 0.5rem;\n}\n.rounded-md {\n  border-radius: 0.375rem;\n}\n.rounded-xl {\n  border-radius: 0.75rem;\n}\n.border {\n  border-width: 1px;\n}\n.border-0 {\n  border-width: 0px;\n}\n.border-4 {\n  border-width: 4px;\n}\n.border-b {\n  border-bottom-width: 1px;\n}\n.border-t-4 {\n  border-top-width: 4px;\n}\n.border-brown {\n  border-color: #6d4c4257;\n}\n.border-white {\n  --tw-border-opacity: 1;\n  border-color: rgb(255 255 255 / var(--tw-border-opacity));\n}\n.border-yellow {\n  border-color: #d7a1422e;\n}\n.border-t-white {\n  --tw-border-opacity: 1;\n  border-top-color: rgb(255 255 255 / var(--tw-border-opacity));\n}\n.border-opacity-30 {\n  --tw-border-opacity: 0.3;\n}\n.bg-black {\n  --tw-bg-opacity: 1;\n  background-color: rgb(0 0 0 / var(--tw-bg-opacity));\n}\n.bg-blue-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(59 130 246 / var(--tw-bg-opacity));\n}\n.bg-gray-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity));\n}\n.bg-gray-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 231 235 / var(--tw-bg-opacity));\n}\n.bg-gray-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity));\n}\n.bg-white {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity));\n}\n.bg-yellow {\n  background-color: #d7a1422e;\n}\n.bg-opacity-50 {\n  --tw-bg-opacity: 0.5;\n}\n.bg-gradient-to-r {\n  background-image: linear-gradient(to right, var(--tw-gradient-stops));\n}\n.from-blue-300 {\n  --tw-gradient-from: #93c5fd var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(147 197 253 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.to-blue-500 {\n  --tw-gradient-to: #3b82f6 var(--tw-gradient-to-position);\n}\n.p-1 {\n  padding: 0.25rem;\n}\n.p-2 {\n  padding: 0.5rem;\n}\n.p-3 {\n  padding: 0.75rem;\n}\n.p-4 {\n  padding: 1rem;\n}\n.px-1\\.5 {\n  padding-left: 0.375rem;\n  padding-right: 0.375rem;\n}\n.px-2 {\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n.px-3 {\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n}\n.px-4 {\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n.px-7 {\n  padding-left: 1.75rem;\n  padding-right: 1.75rem;\n}\n.py-0\\.5 {\n  padding-top: 0.125rem;\n  padding-bottom: 0.125rem;\n}\n.py-1 {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n.py-2 {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n.pb-3 {\n  padding-bottom: 0.75rem;\n}\n.pb-4 {\n  padding-bottom: 1rem;\n}\n.pl-4 {\n  padding-left: 1rem;\n}\n.pt-6 {\n  padding-top: 1.5rem;\n}\n.text-left {\n  text-align: left;\n}\n.text-center {\n  text-align: center;\n}\n.text-2xl {\n  font-size: 1.5rem;\n  line-height: 2rem;\n}\n.text-\\[13px\\] {\n  font-size: 13px;\n}\n.text-sm {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.text-xs {\n  font-size: 0.75rem;\n  line-height: 1rem;\n}\n.font-bold {\n  font-weight: 700;\n}\n.font-medium {\n  font-weight: 500;\n}\n.font-semibold {\n  font-weight: 600;\n}\n.text-\\[\\#222\\] {\n  --tw-text-opacity: 1;\n  color: rgb(34 34 34 / var(--tw-text-opacity));\n}\n.text-black {\n  --tw-text-opacity: 1;\n  color: rgb(0 0 0 / var(--tw-text-opacity));\n}\n.text-gray-400 {\n  --tw-text-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-text-opacity));\n}\n.text-gray-600 {\n  --tw-text-opacity: 1;\n  color: rgb(75 85 99 / var(--tw-text-opacity));\n}\n.text-gray-700 {\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity));\n}\n.text-white {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity));\n}\n.placeholder-gray-400::placeholder {\n  --tw-placeholder-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-placeholder-opacity));\n}\n.shadow-lg {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-sm {\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.ring-1 {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.ring-black {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(0 0 0 / var(--tw-ring-opacity));\n}\n.ring-opacity-5 {\n  --tw-ring-opacity: 0.05;\n}\n.hover\\:bg-blue-600:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity));\n}\n.hover\\:bg-yellow:hover {\n  background-color: #d7a1422e;\n}\n.hover\\:text-gray-600:hover {\n  --tw-text-opacity: 1;\n  color: rgb(75 85 99 / var(--tw-text-opacity));\n}\n.hover\\:text-gray-900:hover {\n  --tw-text-opacity: 1;\n  color: rgb(17 24 39 / var(--tw-text-opacity));\n}\n.focus\\:outline-none:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n.focus\\:ring-0:focus {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.focus\\:ring-2:focus {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.focus\\:ring-blue-500:focus {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity));\n}\n.focus\\:ring-opacity-50:focus {\n  --tw-ring-opacity: 0.5;\n}","",{version:3,sources:["webpack://./src/index.css"],names:[],mappings:"AAAA;EAAA,wBAAc;EAAd,wBAAc;EAAd,mBAAc;EAAd,mBAAc;EAAd,cAAc;EAAd,cAAc;EAAd,cAAc;EAAd,eAAc;EAAd,eAAc;EAAd,aAAc;EAAd,aAAc;EAAd,kBAAc;EAAd,sCAAc;EAAd,8BAAc;EAAd,6BAAc;EAAd,4BAAc;EAAd,eAAc;EAAd,oBAAc;EAAd,sBAAc;EAAd,uBAAc;EAAd,wBAAc;EAAd,kBAAc;EAAd,2BAAc;EAAd,4BAAc;EAAd,sCAAc;EAAd,kCAAc;EAAd,2BAAc;EAAd,sBAAc;EAAd,8BAAc;EAAd,YAAc;EAAd,kBAAc;EAAd,gBAAc;EAAd,iBAAc;EAAd,kBAAc;EAAd,cAAc;EAAd,gBAAc;EAAd,aAAc;EAAd,mBAAc;EAAd,qBAAc;EAAd,2BAAc;EAAd,yBAAc;EAAd,0BAAc;EAAd,2BAAc;EAAd,uBAAc;EAAd,wBAAc;EAAd,yBAAc;EAAd,sBAAc;EAAd,oBAAc;EAAd,sBAAc;EAAd,qBAAc;EAAd;AAAc;;AAAd;EAAA,wBAAc;EAAd,wBAAc;EAAd,mBAAc;EAAd,mBAAc;EAAd,cAAc;EAAd,cAAc;EAAd,cAAc;EAAd,eAAc;EAAd,eAAc;EAAd,aAAc;EAAd,aAAc;EAAd,kBAAc;EAAd,sCAAc;EAAd,8BAAc;EAAd,6BAAc;EAAd,4BAAc;EAAd,eAAc;EAAd,oBAAc;EAAd,sBAAc;EAAd,uBAAc;EAAd,wBAAc;EAAd,kBAAc;EAAd,2BAAc;EAAd,4BAAc;EAAd,sCAAc;EAAd,kCAAc;EAAd,2BAAc;EAAd,sBAAc;EAAd,8BAAc;EAAd,YAAc;EAAd,kBAAc;EAAd,gBAAc;EAAd,iBAAc;EAAd,kBAAc;EAAd,cAAc;EAAd,gBAAc;EAAd,aAAc;EAAd,mBAAc;EAAd,qBAAc;EAAd,2BAAc;EAAd,yBAAc;EAAd,0BAAc;EAAd,2BAAc;EAAd,uBAAc;EAAd,wBAAc;EAAd,yBAAc;EAAd,sBAAc;EAAd,oBAAc;EAAd,sBAAc;EAAd,qBAAc;EAAd;AAAc,CAAd;;CAAc,CAAd;;;CAAc;;AAAd;;;EAAA,sBAAc,EAAd,MAAc;EAAd,eAAc,EAAd,MAAc;EAAd,mBAAc,EAAd,MAAc;EAAd,qBAAc,EAAd,MAAc;AAAA;;AAAd;;EAAA,gBAAc;AAAA;;AAAd;;;;;;;;CAAc;;AAAd;;EAAA,gBAAc,EAAd,MAAc;EAAd,8BAAc,EAAd,MAAc,EAAd,MAAc;EAAd,WAAc,EAAd,MAAc;EAAd,+HAAc,EAAd,MAAc;EAAd,6BAAc,EAAd,MAAc;EAAd,+BAAc,EAAd,MAAc;EAAd,wCAAc,EAAd,MAAc;AAAA;;AAAd;;;CAAc;;AAAd;EAAA,SAAc,EAAd,MAAc;EAAd,oBAAc,EAAd,MAAc;AAAA;;AAAd;;;;CAAc;;AAAd;EAAA,SAAc,EAAd,MAAc;EAAd,cAAc,EAAd,MAAc;EAAd,qBAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,yCAAc;UAAd,iCAAc;AAAA;;AAAd;;CAAc;;AAAd;;;;;;EAAA,kBAAc;EAAd,oBAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,cAAc;EAAd,wBAAc;AAAA;;AAAd;;CAAc;;AAAd;;EAAA,mBAAc;AAAA;;AAAd;;;;;CAAc;;AAAd;;;;EAAA,+GAAc,EAAd,MAAc;EAAd,6BAAc,EAAd,MAAc;EAAd,+BAAc,EAAd,MAAc;EAAd,cAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,cAAc;AAAA;;AAAd;;CAAc;;AAAd;;EAAA,cAAc;EAAd,cAAc;EAAd,kBAAc;EAAd,wBAAc;AAAA;;AAAd;EAAA,eAAc;AAAA;;AAAd;EAAA,WAAc;AAAA;;AAAd;;;;CAAc;;AAAd;EAAA,cAAc,EAAd,MAAc;EAAd,qBAAc,EAAd,MAAc;EAAd,yBAAc,EAAd,MAAc;AAAA;;AAAd;;;;CAAc;;AAAd;;;;;EAAA,oBAAc,EAAd,MAAc;EAAd,8BAAc,EAAd,MAAc;EAAd,gCAAc,EAAd,MAAc;EAAd,eAAc,EAAd,MAAc;EAAd,oBAAc,EAAd,MAAc;EAAd,oBAAc,EAAd,MAAc;EAAd,uBAAc,EAAd,MAAc;EAAd,cAAc,EAAd,MAAc;EAAd,SAAc,EAAd,MAAc;EAAd,UAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;;EAAA,oBAAc;AAAA;;AAAd;;;CAAc;;AAAd;;;;EAAA,0BAAc,EAAd,MAAc;EAAd,6BAAc,EAAd,MAAc;EAAd,sBAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,aAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,gBAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,wBAAc;AAAA;;AAAd;;CAAc;;AAAd;;EAAA,YAAc;AAAA;;AAAd;;;CAAc;;AAAd;EAAA,6BAAc,EAAd,MAAc;EAAd,oBAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,wBAAc;AAAA;;AAAd;;;CAAc;;AAAd;EAAA,0BAAc,EAAd,MAAc;EAAd,aAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,kBAAc;AAAA;;AAAd;;CAAc;;AAAd;;;;;;;;;;;;;EAAA,SAAc;AAAA;;AAAd;EAAA,SAAc;EAAd,UAAc;AAAA;;AAAd;EAAA,UAAc;AAAA;;AAAd;;;EAAA,gBAAc;EAAd,SAAc;EAAd,UAAc;AAAA;;AAAd;;CAAc;AAAd;EAAA,UAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,gBAAc;AAAA;;AAAd;;;CAAc;;AAAd;;EAAA,UAAc,EAAd,MAAc;EAAd,cAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;;EAAA,eAAc;AAAA;;AAAd;;CAAc;AAAd;EAAA,eAAc;AAAA;;AAAd;;;;CAAc;;AAAd;;;;;;;;EAAA,cAAc,EAAd,MAAc;EAAd,sBAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;;EAAA,eAAc;EAAd,YAAc;AAAA;;AAAd,wEAAc;AAAd;EAAA,aAAc;AAAA;AAEd;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;;EAAA;IAAA;EAAmB;AAAA;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,uBAAmB;EAAnB,sDAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,sBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,sBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,kBAAmB;EAAnB;AAAmB;AAAnB;EAAA,kBAAmB;EAAnB;AAAmB;AAAnB;EAAA,kBAAmB;EAAnB;AAAmB;AAAnB;EAAA,kBAAmB;EAAnB;AAAmB;AAAnB;EAAA,kBAAmB;EAAnB;AAAmB;AAAnB;EAAA,kBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,4DAAmB;EAAnB,qEAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,sBAAmB;EAAnB;AAAmB;AAAnB;EAAA,oBAAmB;EAAnB;AAAmB;AAAnB;EAAA,qBAAmB;EAAnB;AAAmB;AAAnB;EAAA,kBAAmB;EAAnB;AAAmB;AAAnB;EAAA,qBAAmB;EAAnB;AAAmB;AAAnB;EAAA,qBAAmB;EAAnB;AAAmB;AAAnB;EAAA,oBAAmB;EAAnB;AAAmB;AAAnB;EAAA,mBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,iBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,mBAAmB;EAAnB;AAAmB;AAAnB;EAAA,kBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,oBAAmB;EAAnB;AAAmB;AAAnB;EAAA,oBAAmB;EAAnB;AAAmB;AAAnB;EAAA,oBAAmB;EAAnB;AAAmB;AAAnB;EAAA,oBAAmB;EAAnB;AAAmB;AAAnB;EAAA,oBAAmB;EAAnB;AAAmB;AAAnB;EAAA,oBAAmB;EAAnB;AAAmB;AAAnB;EAAA,2BAAmB;EAAnB;AAAmB;AAAnB;EAAA,+EAAmB;EAAnB,mGAAmB;EAAnB;AAAmB;AAAnB;EAAA,0CAAmB;EAAnB,uDAAmB;EAAnB;AAAmB;AAAnB;EAAA,2GAAmB;EAAnB,yGAAmB;EAAnB;AAAmB;AAAnB;EAAA,oBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAFnB;EAAA,kBAEoB;EAFpB;AAEoB;AAFpB;EAAA;AAEoB;AAFpB;EAAA,oBAEoB;EAFpB;AAEoB;AAFpB;EAAA,oBAEoB;EAFpB;AAEoB;AAFpB;EAAA,8BAEoB;EAFpB;AAEoB;AAFpB;EAAA,2GAEoB;EAFpB,yGAEoB;EAFpB;AAEoB;AAFpB;EAAA,2GAEoB;EAFpB,yGAEoB;EAFpB;AAEoB;AAFpB;EAAA,oBAEoB;EAFpB;AAEoB;AAFpB;EAAA;AAEoB",sourcesContent:["@tailwind base;\r\n@tailwind components;\r\n@tailwind utilities;"],sourceRoot:""}]);const i=a},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,s,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&a[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),s&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=s):d[4]="".concat(s)),t.push(d))}},t}},354:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(s," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},694:(e,t,n)=>{"use strict";var r=n(925);function s(){}function o(){}o.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,o,a){if(a!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:s};return n.PropTypes=n,n}},556:(e,t,n)=>{e.exports=n(694)()},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},338:(e,t,n)=>{"use strict";var r=n(845);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},27:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(883)),s=u(n(556)),o=u(n(845)),a=u(n(53)),i=n(89),c=n(726),l=n(675),d=u(n(888)),A=u(n(696));function u(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,A.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),p(this,"onDragStart",((e,t)=>{if((0,A.default)("Draggable: onDragStart: %j",t),!1===this.props.onStart(e,(0,c.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})})),p(this,"onDrag",((e,t)=>{if(!this.state.dragging)return!1;(0,A.default)("Draggable: onDrag: %j",t);const n=(0,c.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[s,o]=(0,c.getBoundPosition)(this,r.x,r.y);r.x=s,r.y=o,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)})),p(this,"onDragStop",((e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,c.createDraggableData)(this,t)))return!1;(0,A.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)})),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:o.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:s,defaultClassName:o,defaultClassNameDragging:l,defaultClassNameDragged:A,position:u,positionOffset:h,scale:p,...m}=this.props;let g={},y=null;const w=!Boolean(u)||this.state.dragging,b=u||s,v={x:(0,c.canDragX)(this)&&w?this.state.x:b.x,y:(0,c.canDragY)(this)&&w?this.state.y:b.y};this.state.isElementSVG?y=(0,i.createSVGTransform)(v,h):g=(0,i.createCSSTransform)(v,h);const x=(0,a.default)(n.props.className||"",o,{[l]:this.state.dragging,[A]:this.state.dragged});return r.createElement(d.default,f({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:x,style:{...n.props.style,...g},transform:y}))}}t.default=m,p(m,"displayName","Draggable"),p(m,"propTypes",{...d.default.propTypes,axis:s.default.oneOf(["both","x","y","none"]),bounds:s.default.oneOfType([s.default.shape({left:s.default.number,right:s.default.number,top:s.default.number,bottom:s.default.number}),s.default.string,s.default.oneOf([!1])]),defaultClassName:s.default.string,defaultClassNameDragging:s.default.string,defaultClassNameDragged:s.default.string,defaultPosition:s.default.shape({x:s.default.number,y:s.default.number}),positionOffset:s.default.shape({x:s.default.oneOfType([s.default.number,s.default.string]),y:s.default.oneOfType([s.default.number,s.default.string])}),position:s.default.shape({x:s.default.number,y:s.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),p(m,"defaultProps",{...d.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},888:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(883)),s=d(n(556)),o=d(n(845)),a=n(89),i=n(726),c=n(675),l=d(n(696));function d(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={start:"touchstart",move:"touchmove",stop:"touchend"},f={start:"mousedown",move:"mousemove",stop:"mouseup"};let p=f;class m extends r.Component{constructor(){super(...arguments),u(this,"dragging",!1),u(this,"lastX",NaN),u(this,"lastY",NaN),u(this,"touchIdentifier",null),u(this,"mounted",!1),u(this,"handleDragStart",(e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,a.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,a.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();const r=(0,a.getTouchIdentifier)(e);this.touchIdentifier=r;const s=(0,i.getControlPosition)(e,r,this);if(null==s)return;const{x:o,y:c}=s,d=(0,i.createCoreData)(this,o,c);(0,l.default)("DraggableCore: handleDragStart: %j",d),(0,l.default)("calling",this.props.onStart),!1!==this.props.onStart(e,d)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=c,(0,a.addEvent)(n,p.move,this.handleDrag),(0,a.addEvent)(n,p.stop,this.handleDragStop))})),u(this,"handleDrag",(e=>{const t=(0,i.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,i.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const s=(0,i.createCoreData)(this,n,r);if((0,l.default)("DraggableCore: handleDrag: %j",s),!1!==this.props.onDrag(e,s)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(e){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}})),u(this,"handleDragStop",(e=>{if(!this.dragging)return;const t=(0,i.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,i.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const s=(0,i.createCoreData)(this,n,r);if(!1===this.props.onStop(e,s)||!1===this.mounted)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(o.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,l.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(o.ownerDocument,p.move,this.handleDrag),(0,a.removeEvent)(o.ownerDocument,p.stop,this.handleDragStop))})),u(this,"onMouseDown",(e=>(p=f,this.handleDragStart(e)))),u(this,"onMouseUp",(e=>(p=f,this.handleDragStop(e)))),u(this,"onTouchStart",(e=>(p=h,this.handleDragStart(e)))),u(this,"onTouchEnd",(e=>(p=h,this.handleDragStop(e))))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,a.addEvent)(e,h.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,a.removeEvent)(t,f.move,this.handleDrag),(0,a.removeEvent)(t,h.move,this.handleDrag),(0,a.removeEvent)(t,f.stop,this.handleDragStop),(0,a.removeEvent)(t,h.stop,this.handleDragStop),(0,a.removeEvent)(e,h.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:o.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=m,u(m,"displayName","DraggableCore"),u(m,"propTypes",{allowAnyClick:s.default.bool,children:s.default.node.isRequired,disabled:s.default.bool,enableUserSelectHack:s.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:s.default.arrayOf(s.default.number),handle:s.default.string,cancel:s.default.string,nodeRef:s.default.object,onStart:s.default.func,onDrag:s.default.func,onStop:s.default.func,onMouseDown:s.default.func,scale:s.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),u(m,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},794:(e,t,n)=>{"use strict";const{default:r,DraggableCore:s}=n(27);e.exports=r,e.exports.default=r,e.exports.DraggableCore=s},89:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=l,t.addEvent=function(e,t,n,r){if(!e)return;const s={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,s):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&l(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=c(e,t,"px");return{[(0,s.browserPrefixToKey)("transform",s.default)]:n}},t.createSVGTransform=function(e,t){return c(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,(e=>t===e.identifier))||e.changedTouches&&(0,r.findInArray)(e.changedTouches,(e=>t===e.identifier))},t.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},t.getTranslation=c,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=i,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(i(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=d,t.removeEvent=function(e,t,n,r){if(!e)return;const s={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,s):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(e)try{if(e.body&&d(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var r=n(675),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=s?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(514));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}let a="";function i(e,t){return a||(a=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,r.isFunction)(e[t])}))),!!(0,r.isFunction)(e[a])&&e[a](t)}function c(e,t,n){let{x:r,y:s}=e,o="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(t){const e="".concat("string"==typeof t.x?t.x:t.x+n),r="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(e,", ").concat(r,")")+o}return o}function l(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function d(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},514:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=s,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const r=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!r)return"";if(t in r)return"";for(let e=0;e<n.length;e++)if(s(t,n[e])in r)return n[e];return""}function s(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}t.default=r()},696:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const s=!(0,r.isNum)(e.lastX),a=o(e);return s?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:a}=e.props;a="string"==typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);const i=o(e);if("string"==typeof a){const{ownerDocument:e}=i,t=e.defaultView;let n;if(n="parent"===a?i.parentNode:e.querySelector(a),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');const o=n,c=t.getComputedStyle(i),l=t.getComputedStyle(o);a={left:-i.offsetLeft+(0,r.int)(l.paddingLeft)+(0,r.int)(c.marginLeft),top:-i.offsetTop+(0,r.int)(l.paddingTop)+(0,r.int)(c.marginTop),right:(0,s.innerWidth)(o)-(0,s.outerWidth)(i)-i.offsetLeft+(0,r.int)(l.paddingRight)-(0,r.int)(c.marginRight),bottom:(0,s.innerHeight)(o)-(0,s.outerHeight)(i)-i.offsetTop+(0,r.int)(l.paddingBottom)-(0,r.int)(c.marginBottom)}}return(0,r.isNum)(a.right)&&(t=Math.min(t,a.right)),(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom)),(0,r.isNum)(a.left)&&(t=Math.max(t,a.left)),(0,r.isNum)(a.top)&&(n=Math.max(n,a.top)),[t,n]},t.getControlPosition=function(e,t,n){const r="number"==typeof t?(0,s.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;const a=o(n),i=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,s.offsetXYFromParent)(r||e,i,n.props.scale)},t.snapToGrid=function(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]};var r=n(675),s=n(89);function o(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},675:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},20:(e,t,n)=>{"use strict";var r=n(883),s=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,c={},l=null,d=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,r)&&!i.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:s,type:e,key:l,ref:d,props:c,_owner:a.current}}t.jsx=c,t.jsxs=c},848:(e,t,n)=>{"use strict";e.exports=n(20)},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],i=0;i<e.length;i++){var c=e[i],l=r.base?c[0]+r.base:c[0],d=o[l]||0,A="".concat(l," ").concat(d);o[l]=d+1;var u=n(A),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(h);else{var f=s(h,r);r.byIndex=i,t.splice(i,0,{identifier:A,updater:f,references:1})}a.push(A)}return a}function s(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,s){var o=r(e=e||[],s=s||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var i=n(o[a]);t[i].references--}for(var c=r(e,s),l=0;l<o.length;l++){var d=n(o[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=c}}},659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,s&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},883:t=>{"use strict";t.exports=e},845:e=>{"use strict";e.exports=t}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,exports:{}};return n[e](o,o.exports,s),o.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nc=void 0;var o={};return(()=>{"use strict";s.r(o),s.d(o,{toggleModal:()=>Ms});var e={};s.r(e),s.d(e,{xX:()=>ht,qA:()=>ft,LG:()=>At,cH:()=>ut,v3:()=>mt,v7:()=>pt,fK:()=>wt,pf:()=>Bt,PO:()=>xt,k5:()=>Et,m_:()=>yt,vc:()=>dt,Ll:()=>gt,OE:()=>vt,Is:()=>bt});var t=s(848),n=s(883),r=s.n(n),a=s(338),i=s(72),c=s.n(i),l=s(825),d=s.n(l),A=s(659),u=s.n(A),h=s(56),f=s.n(h),p=s(540),m=s.n(p),g=s(113),y=s.n(g),w=s(972),b={};b.styleTagTransform=y(),b.setAttributes=f(),b.insert=u().bind(null,"head"),b.domAPI=d(),b.insertStyleElement=m(),c()(w.A,b),w.A&&w.A.locals&&w.A.locals;var v=s(794),x=s.n(v),E={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},B=n.createContext&&n.createContext(E),_=["attr","size","title"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){var r,s,o,a;r=e,s=t,o=n[t],(s="symbol"==typeof(a=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(s))?a:a+"")in r?Object.defineProperty(r,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[s]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){return e&&e.map(((e,t)=>n.createElement(e.tag,k({key:t},e.attr),j(e.child))))}function O(e){return t=>n.createElement(P,S({attr:k({},e.attr)},t),j(e.child))}function P(e){var t=t=>{var r,{attr:s,size:o,title:a}=e,i=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,_),c=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",S({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,i,{className:r,style:k(k({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&n.createElement("title",null,a),e.children)};return void 0!==B?n.createElement(B.Consumer,null,(e=>t(e))):t(E)}function M(e){return O({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3 16h10l1-11h-12zM10 2v-2h-4v2h-5v3l1-1h12l1 1v-3h-5zM9 2h-2v-1h2v1z"},child:[]}]})(e)}function R(e){return O({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.5 1.5A.5.5 0 0 0 1 2v4.8a2.5 2.5 0 0 0 2.5 2.5h9.793l-3.347 3.346a.5.5 0 0 0 .708.708l4.2-4.2a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 8.3H3.5A1.5 1.5 0 0 1 2 6.8V2a.5.5 0 0 0-.5-.5"},child:[]}]})(e)}const N=function(e){var n=e.placeholder,r=e.value,s=e.onChange,o=e.hadleContext;return(0,t.jsx)("div",{className:"mb-2 border-b border-brown p-2",children:(0,t.jsxs)("div",{className:"rounded-md",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center px-2 py-2 bg-gray-50 ",children:[(0,t.jsxs)("button",{className:"flex items-center text-[#222]",children:[(0,t.jsx)(R,{size:16,className:"mr-2"}),"Context"]}),(0,t.jsx)("button",{onClick:function(){o(!0)},className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)(M,{size:16})})]}),(0,t.jsx)("input",{value:r,onChange:function(e){s(e.target.value)},placeholder:n,className:"w-full pl-4 pb-4 text-sm text-gray-700 placeholder-gray-400 bg-white border-0 focus:outline-none focus:ring-0"})]})})},D=function(e){var n=e.placeholder,r=e.value,s=e.onChange;return(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("input",{type:"text",className:"w-full p-3 py-2 text-sm text-gray-700 placeholder-gray-400 bg-white rounded-md border-0 focus:outline-none focus:ring-0",placeholder:n,value:r,onChange:function(e){return s(e.target.value)}})})},I=(...e)=>e.filter(((e,t,n)=>Boolean(e)&&n.indexOf(e)===t)).join(" ");var T={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $=(0,n.forwardRef)((({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:i,...c},l)=>(0,n.createElement)("svg",{ref:l,...T,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:I("lucide",o),...c},[...i.map((([e,t])=>(0,n.createElement)(e,t))),...Array.isArray(a)?a:[a]]))),L=((e,t)=>{const r=(0,n.forwardRef)((({className:r,...s},o)=>{return(0,n.createElement)($,{ref:o,iconNode:t,className:I(`lucide-${a=e,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,r),...s});var a}));return r.displayName=`${e}`,r})("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var F;function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(null,arguments)}const U=e=>n.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",fill:"#42a7a7",viewBox:"0 0 150 150"},e),n.createElement("path",{d:"M0 0h150v150H0z",style:{fill:"none"}}),F||(F=n.createElement("path",{d:"M132.17 62.55a33.26 33.26 0 0 0-2.87-27.3c-7.28-12.67-21.91-19.19-36.19-16.12C80.66 5.28 59.34 4.15 45.49 16.6c-4.4 3.95-7.67 8.99-9.51 14.61a33.3 33.3 0 0 0-22.23 16.12c-7.36 12.65-5.69 28.61 4.13 39.46a33.25 33.25 0 0 0 2.84 27.3c7.29 12.67 21.93 19.19 36.22 16.12a33.29 33.29 0 0 0 25.07 11.18c14.64.01 27.62-9.44 32.09-23.38 9.38-1.93 17.48-7.8 22.23-16.12a33.67 33.67 0 0 0-4.16-39.33Zm-50.16 70.1c-5.85 0-11.51-2.04-15.99-5.79l.79-.45 26.57-15.34a4.41 4.41 0 0 0 2.18-3.79V69.82l11.23 6.5c.11.06.19.16.21.29v31.04c-.03 13.79-11.2 24.96-24.99 24.99ZM28.3 109.71a24.87 24.87 0 0 1-2.97-16.76l.79.47 26.59 15.34c1.34.79 3 .79 4.34 0l32.49-18.73V103c0 .14-.07.26-.18.34l-26.91 15.52c-11.96 6.89-27.24 2.79-34.14-9.15Zm-7-57.87c2.95-5.09 7.61-8.98 13.15-10.97v31.57c-.02 1.55.81 2.99 2.16 3.76l32.33 18.65-11.23 6.5c-.12.07-.27.07-.39 0L30.46 85.86c-11.93-6.92-16.03-22.18-9.15-34.14v.13Zm92.28 21.44L81.15 54.45l11.21-6.47c.12-.07.27-.07.39 0l26.86 15.52c11.95 6.9 16.05 22.18 9.15 34.13-2.9 5.03-7.47 8.9-12.92 10.93V76.99a4.41 4.41 0 0 0-2.26-3.71m11.18-16.81-.79-.47-26.54-15.47a4.33 4.33 0 0 0-4.37 0L60.6 59.26V46.29c-.01-.13.05-.27.16-.34l26.86-15.49c11.97-6.9 27.27-2.78 34.16 9.19a25.02 25.02 0 0 1 2.98 16.72v.11ZM54.47 79.46l-11.23-6.47a.45.45 0 0 1-.21-.32V41.71c.02-13.82 11.23-25 25.05-24.98 5.83 0 11.48 2.05 15.96 5.78l-.79.45L56.68 38.3a4.41 4.41 0 0 0-2.18 3.79l-.03 37.38Zm6.1-13.15 14.47-8.34 14.49 8.34v16.68l-14.44 8.34-14.49-8.34z"})));var q;function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(null,arguments)}const X=e=>n.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",fill:"#769dd9",viewBox:"0 0 150 150"},e),n.createElement("path",{d:"M0 0h150v150H0z",style:{fill:"none"}}),q||(q=n.createElement("path",{d:"M132.17 62.55a33.26 33.26 0 0 0-2.87-27.3c-7.28-12.67-21.91-19.19-36.19-16.12C80.66 5.28 59.34 4.15 45.49 16.6c-4.4 3.95-7.67 8.99-9.51 14.61a33.3 33.3 0 0 0-22.23 16.12c-7.36 12.65-5.69 28.61 4.13 39.46a33.25 33.25 0 0 0 2.84 27.3c7.29 12.67 21.93 19.19 36.22 16.12a33.29 33.29 0 0 0 25.07 11.18c14.64.01 27.62-9.44 32.09-23.38 9.38-1.93 17.48-7.8 22.23-16.12a33.67 33.67 0 0 0-4.16-39.33Zm-50.16 70.1c-5.85 0-11.51-2.04-15.99-5.79l.79-.45 26.57-15.34a4.41 4.41 0 0 0 2.18-3.79V69.82l11.23 6.5c.11.06.19.16.21.29v31.04c-.03 13.79-11.2 24.96-24.99 24.99ZM28.3 109.71a24.87 24.87 0 0 1-2.97-16.76l.79.47 26.59 15.34c1.34.79 3 .79 4.34 0l32.49-18.73V103c0 .14-.07.26-.18.34l-26.91 15.52c-11.96 6.89-27.24 2.79-34.14-9.15Zm-7-57.87c2.95-5.09 7.61-8.98 13.15-10.97v31.57c-.02 1.55.81 2.99 2.16 3.76l32.33 18.65-11.23 6.5c-.12.07-.27.07-.39 0L30.46 85.86c-11.93-6.92-16.03-22.18-9.15-34.14v.13Zm92.28 21.44L81.15 54.45l11.21-6.47c.12-.07.27-.07.39 0l26.86 15.52c11.95 6.9 16.05 22.18 9.15 34.13-2.9 5.03-7.47 8.9-12.92 10.93V76.99a4.41 4.41 0 0 0-2.26-3.71m11.18-16.81-.79-.47-26.54-15.47a4.33 4.33 0 0 0-4.37 0L60.6 59.26V46.29c-.01-.13.05-.27.16-.34l26.86-15.49c11.97-6.9 27.27-2.78 34.16 9.19a25.02 25.02 0 0 1 2.98 16.72v.11ZM54.47 79.46l-11.23-6.47a.45.45 0 0 1-.21-.32V41.71c.02-13.82 11.23-25 25.05-24.98 5.83 0 11.48 2.05 15.96 5.78l-.79.45L56.68 38.3a4.41 4.41 0 0 0-2.18 3.79l-.03 37.38Zm6.1-13.15 14.47-8.34 14.49 8.34v16.68l-14.44 8.34-14.49-8.34z"})));function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(null,arguments)}const V=e=>n.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 150 150"},e),n.createElement("path",{d:"M120 76.1c0-3.1-.3-6.3-.8-9.3H75.9v17.7h24.8c-1 5.7-4.3 10.7-9.2 13.9l14.8 11.5C115 101.8 120 90 120 76.1",style:{fill:"#4280ef"}}),n.createElement("path",{d:"M75.9 120.9c12.4 0 22.8-4.1 30.4-11.1L91.5 98.4c-4.1 2.8-9.4 4.4-15.6 4.4-12 0-22.1-8.1-25.8-18.9L34.9 95.6c7.8 15.5 23.6 25.3 41 25.3",style:{fill:"#34a353"}}),n.createElement("path",{d:"M50.1 83.8c-1.9-5.7-1.9-11.9 0-17.6L34.9 54.4c-6.5 13-6.5 28.3 0 41.2z",style:{fill:"#f6b704"}}),n.createElement("path",{d:"M75.9 47.3c6.5-.1 12.9 2.4 17.6 6.9L106.6 41c-8.3-7.8-19.3-12-30.7-11.9-17.4 0-33.2 9.8-41 25.3l15.2 11.8c3.7-10.9 13.8-18.9 25.8-18.9",style:{fill:"#e54335"}}));var J,G,Y,K;function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(null,arguments)}const Q=e=>n.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},e),J||(J=n.createElement("path",{fill:"#f0f0f0",d:"M0 0h100v100H0z"})),G||(G=n.createElement("rect",{width:60,height:40,x:20,y:20,fill:"#fff",stroke:"gray",strokeWidth:2,rx:5,ry:5})),Y||(Y=n.createElement("path",{fill:"none",stroke:"gray",strokeWidth:2,d:"m21 21 29 18 29-18"})),K||(K=n.createElement("text",{x:80,y:90,fill:"gray",fontFamily:"Arial, sans-serif",fontSize:35,textAnchor:"end"},"*")));function ee(e){return O({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:"currentColor"},child:[]}]})(e)}const te=function(e){var r=e.onChange,s=(0,n.useState)(!1),o=s[0],a=s[1],i=(0,n.useState)({name:"GPT 4o Mini",locked:!1,icon:(0,t.jsx)(U,{width:20,height:20})}),c=i[0],l=i[1],d=[{name:"Sonnet 3.5",locked:!0,icon:(0,t.jsx)(Q,{width:20,height:20})},{name:"GPT 4o",locked:!0,icon:(0,t.jsx)(X,{width:20,height:20})},{name:"GPT 4o Mini",locked:!1,icon:(0,t.jsx)(U,{width:20,height:20})},{name:"Gemini 1.5F",locked:!1,icon:(0,t.jsx)(V,{width:20,height:20})}];return(0,t.jsxs)("div",{className:"relative inline-block text-left h-[30px]",children:[o&&(0,t.jsx)("div",{className:"origin-top-right absolute mt-2 w-[150px] bottom-[35px] rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,t.jsx)("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:d.map((function(e,n){return(0,t.jsxs)("button",{onClick:function(){return function(e){e.locked||(l(e),r(e.name),a(!1))}(e)},className:"\n                ".concat(e.locked?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-yellow hover:text-gray-900","\n                group flex items-center w-full px-2 py-1 text-sm\n              "),role:"menuitem",disabled:e.locked,children:[e.icon,(0,t.jsx)("span",{className:"flex-grow",children:e.name}),e.locked&&(0,t.jsx)("span",{className:"ml-3 text-gray-400",children:""})]},n)}))})}),(0,t.jsx)("div",{className:"h-[30px]",children:(0,t.jsxs)("button",{type:"button",onClick:function(){return a(!o)},className:"inline-flex justify-between items-center w-[150px] h-[30px] rounded-md border border-yellow shadow-sm px-2 py-1 bg-yellow text-sm font-medium text-gray-700 hover:bg-yellow focus:outline-none focus:ring-0",children:[c.icon,(0,t.jsx)("span",{children:c.name}),o?(0,t.jsx)(L,{className:"ml-2 h-5 w-5","aria-hidden":"true"}):(0,t.jsx)(ee,{className:"ml-2 h-4 w-4","aria-hidden":"true"})]})})]})};function ne(e){return O({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"},child:[]}]})(e)}const re=function(e){var r=e.onChange,s=(0,n.useState)(!1),o=s[0],a=s[1],i=(0,n.useState)("Writing tone"),c=i[0],l=i[1];return(0,t.jsxs)("div",{className:"relative h-[30px]",children:[o&&(0,t.jsx)("div",{className:"absolute z-10 bottom-[35px] mt-2 w-full bg-white border rounded-md shadow-lg overflow-auto",children:["Auto","Professional","Casual","Straightforward","Confident","Friendly"].map((function(e,n){return(0,t.jsxs)("div",{className:"py-1 px-3 cursor-pointer hover:bg-yellow text-gray-700 flex items-center gap-2",onClick:function(){return function(e){l(e),r(e),a(!1)}(e)},children:[e,"Auto"==e&&(0,t.jsx)(ne,{})]},n)}))}),(0,t.jsxs)("button",{onClick:function(){a(!o)},className:"flex items-center justify-between w-[140px] p-1 border rounded-md text-gray-700 bg-yellow hover:bg-yellow h-[30px]",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[c,"Auto"==c&&(0,t.jsx)(ne,{})]}),o?(0,t.jsx)(L,{className:"w-4 h-4"}):(0,t.jsx)(ee,{className:"w-4 h-4"})]})]})},se=function(e){var r=e.onChange,s=(0,n.useState)(!1),o=s[0],a=s[1],i=(0,n.useState)("Length"),c=i[0],l=i[1];return(0,t.jsxs)("div",{className:"relative h-[30px]",children:[o&&(0,t.jsx)("div",{className:"absolute z-10 mt-2 w-full bottom-[35px] bg-white border rounded-md shadow-lg",children:["Short","Medium","Long"].map((function(e,n){return(0,t.jsx)("div",{className:"py-1 px-2 cursor-pointer hover:bg-yellow text-gray-700",onClick:function(){return function(e){l(e),r(e),a(!1)}(e)},children:e},n)}))}),(0,t.jsxs)("button",{onClick:function(){a(!o)},className:"flex items-center justify-between w-[90px] p-1 border rounded-md text-gray-700 bg-yellow hover:bg-yellow h-[30px]",children:[(0,t.jsx)("span",{children:c}),o?(0,t.jsx)(L,{className:"w-4 h-4"}):(0,t.jsx)(ee,{className:"w-4 h-4"})]})]})},oe="4.67.1";let ae,ie,ce,le,de,Ae,ue,he,fe,pe=!1,me=null,ge=null,ye=null,we=null;class be{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}ae||function(e,t={auto:!1}){if(pe)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(ae)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${ae}'\``);pe=t.auto,ae=e.kind,ie=e.fetch,me=e.Request,ge=e.Response,ye=e.Headers,ce=e.FormData,we=e.Blob,le=e.File,de=e.ReadableStream,Ae=e.getMultipartRequestOptions,ue=e.getDefaultAgent,he=e.fileFromPath,fe=e.isFsReadStream}(function({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,o;try{n=fetch,r=Request,s=Response,o=Headers}catch(e){throw new Error(`this environment is missing the following Web Fetch API type: ${e.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:o,FormData:"undefined"!=typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!=typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!=typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!=typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new be(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0});class ve{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;return new ve((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const n of async function*(e,t){if(!e.body)throw t.abort(),new dt("Attempted to iterate over a response with no body");const n=new Ee,r=new Be,s=_e(e.body);for await(const e of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"==typeof n?(new TextEncoder).encode(n):n;let r,s=new Uint8Array(t.length+e.length);for(s.set(t),s.set(e,t.length),t=s;-1!==(r=xe(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(s))for(const t of r.decode(e)){const e=n.decode(t);e&&(yield e)}for(const e of r.flush()){const t=n.decode(e);t&&(yield t)}}(e,t))if(!r)if(n.data.startsWith("[DONE]"))r=!0;else if(null===n.event){let e;try{e=JSON.parse(n.data)}catch(e){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),e}if(e&&e.error)throw new At(void 0,e.error,void 0,void 0);yield e}else{let e;try{e=JSON.parse(n.data)}catch(e){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),e}if("error"==n.event)throw new At(void 0,e.error,e.message,void 0);yield{event:n.event,data:e}}r=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{r||t.abort()}}),t)}static fromReadableStream(e,t){let n=!1;return new ve((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new Be,n=_e(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{r||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new ve((()=>r(e)),this.controller),new ve((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new de({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:s}=await t.next();if(s)return e.close();const o=n.encode(JSON.stringify(r)+"\n");e.enqueue(o)}catch(t){e.error(t)}},async cancel(){await(t.return?.())}})}}function xe(e){for(let t=0;t<e.length-2;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}class Ee{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e){const t=e.indexOf(":");return-1!==t?[e.substring(0,t),":",e.substring(t+1)]:[e,"",""]}(e);return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}class Be{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=Be.NEWLINE_CHARS.has(t[t.length-1]||"");let r=t.split(Be.NEWLINE_REGEXP);return n&&r.pop(),1!==r.length||n?(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),n||(this.buffer=[r.pop()||""]),r):(this.buffer.push(r[0]),[])}decodeText(e){if(null==e)return"";if("string"==typeof e)return e;if("undefined"!=typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new dt(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!=typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new dt(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new dt("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}function _e(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}Be.NEWLINE_CHARS=new Set(["\n","\r"]),Be.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const Se=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob,Ce=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&ke(e),ke=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;async function je(e,t,n){if(e=await e,Ce(e))return e;if(Se(e)){const r=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const s=ke(r)?[await r.arrayBuffer()]:[r];return new le(s,t,n)}const r=await async function(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(ke(e))t.push(await e.arrayBuffer());else{if(!Pe(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${function(e){return`[${Object.getOwnPropertyNames(e).map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const n of e)t.push(n)}return t}(e);if(t||(t=function(e){return Oe(e.name)||Oe(e.filename)||Oe(e.path)?.split(/[\\/]/).pop()}(e)??"unknown_file"),!n?.type){const e=r[0]?.type;"string"==typeof e&&(n={...n,type:e})}return new le(r,t,n)}const Oe=e=>"string"==typeof e?e:"undefined"!=typeof Buffer&&e instanceof Buffer?String(e):void 0,Pe=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator],Me=e=>e&&"object"==typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],Re=async e=>{const t=await Ne(e.body);return Ae(t,e)},Ne=async e=>{const t=new ce;return await Promise.all(Object.entries(e||{}).map((([e,n])=>De(t,e,n)))),t},De=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)e.append(t,String(n));else if((e=>Ce(e)||Se(e)||fe(e))(n)){const r=await je(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map((n=>De(e,t+"[]",n))));else{if("object"!=typeof n)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`);await Promise.all(Object.entries(n).map((([n,r])=>De(e,`${t}[${n}]`,r))))}}};var Ie;async function Te(e){const{response:t}=e;if(e.options.stream)return at("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):ve.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if(n?.includes("application/json")||n?.includes("application/vnd.api+json")){const e=await t.json();return at("response",t.status,t.url,t.headers,e),$e(e,t)}const r=await t.text();return at("response",t.status,t.url,t.headers,r),r}function $e(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Le extends Promise{constructor(e,t=Te){super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Le(this.responsePromise,(async t=>$e(e(await this.parseResponse(t)),t.response)))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Fe{constructor({baseURL:e,maxRetries:t=2,timeout:n=6e5,httpAgent:r,fetch:s}){this.baseURL=e,this.maxRetries=et("maxRetries",t),this.timeout=et("timeout",n),this.httpAgent=r,this.fetch=s??ie}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Ge(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${it()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((async n=>{const r=n&&ke(n?.body)?new DataView(await n.body.arrayBuffer()):n?.body instanceof DataView?n.body:n?.body instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n?.body)?new DataView(n.body.buffer):n?.body;return{method:e,path:t,...n,body:r}})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if("string"==typeof e){if("undefined"!=typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){const{method:n,path:r,query:s,headers:o={}}=e,a=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"==typeof e.body?e.body:Me(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,i=this.calculateContentLength(a),c=this.buildURL(r,s);"timeout"in e&&et("timeout",e.timeout);const l=e.timeout??this.timeout,d=e.httpAgent??this.httpAgent??ue(c),A=l+1e3;return"number"==typeof d?.options?.timeout&&A>(d.options.timeout??0)&&(d.options.timeout=A),this.idempotencyHeader&&"get"!==n&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey),{req:{method:n,...a&&{body:a},headers:this.buildHeaders({options:e,headers:o,contentLength:i,retryCount:t}),...d&&{agent:d},signal:e.signal??null},url:c,timeout:l}}buildHeaders({options:e,headers:t,contentLength:n,retryCount:r}){const s={};return n&&(s["content-length"]=n),ot(s,this.defaultHeaders(e)),ot(s,t),Me(e.body)&&"node"!==ae&&delete s["content-type"],void 0===ct(t,"x-stainless-retry-count")&&(s["x-stainless-retry-count"]=String(r)),this.validateHeaders(s,t),s}async prepareOptions(e){}async prepareRequest(e,{url:t,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,n,r){return At.generate(e,t,n,r)}request(e,t=null){return new Le(this.makeRequest(e,t))}async makeRequest(e,t){const n=await e,r=n.maxRetries??this.maxRetries;null==t&&(t=r),await this.prepareOptions(n);const{req:s,url:o,timeout:a}=this.buildRequest(n,{retryCount:r-t});if(await this.prepareRequest(s,{url:o,options:n}),at("request",o,n,s.headers),n.signal?.aborted)throw new ut;const i=new AbortController,c=await this.fetchWithTimeout(o,s,a,i).catch(tt);if(c instanceof Error){if(n.signal?.aborted)throw new ut;if(t)return this.retryRequest(n,t);if("AbortError"===c.name)throw new ft;throw new ht({cause:c})}const l=qe(c.headers);if(!c.ok){if(t&&this.shouldRetry(c))return at(`response (error; retrying, ${t} attempts remaining)`,c.status,o,l),this.retryRequest(n,t,l);const e=await c.text().catch((e=>tt(e).message)),r=Ye(e),s=r?void 0:e;throw at(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,c.status,o,l,s),this.makeStatusError(c.status,r,s,l)}return{response:c,options:n,controller:i}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new Ue(this,n,e)}buildURL(e,t){const n=Ze(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return rt(r)||(t={...r,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter((([e,t])=>void 0!==t)).map((([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new dt(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,n,r){const{signal:s,...o}=t||{};s&&s.addEventListener("abort",(()=>r.abort()));const a=setTimeout((()=>r.abort()),n);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...o}).finally((()=>{clearTimeout(a)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||e.status>=500)}async retryRequest(e,t,n){let r;const s=n?.["retry-after-ms"];if(s){const e=parseFloat(s);Number.isNaN(e)||(r=e)}const o=n?.["retry-after"];if(o&&!r){const e=parseFloat(o);r=Number.isNaN(e)?Date.parse(o)-Date.now():1e3*e}if(!(r&&0<=r&&r<6e4)){const n=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,n)}return await Qe(r),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${oe}`}}class We{constructor(e,t,n,r){Ie.set(this,void 0),function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?s.call(e,n):s?s.value=n:t.set(e,n)}(this,Ie,e,"f"),this.options=r,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new dt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&"object"==typeof t.query)t.query={...t.query,...e.params};else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,r]of n)e.url.searchParams.set(t,r);t.query=void 0,t.path=e.url.toString()}return await function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}(this,Ie,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Ie=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class Ue extends Le{constructor(e,t,n){super(t,(async t=>new n(e,t.response,await Te(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const qe=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),ze={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Xe=e=>"object"==typeof e&&null!==e&&!rt(e)&&Object.keys(e).every((e=>st(ze,e))),He=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",Ve=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let Je;const Ge=()=>Je??(Je=(()=>{if("undefined"!=typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oe,"X-Stainless-OS":Ve(Deno.build.os),"X-Stainless-Arch":He(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oe,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oe,"X-Stainless-OS":Ve(process.platform),"X-Stainless-Arch":He(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e)return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oe,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oe,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}})()),Ye=e=>{try{return JSON.parse(e)}catch(e){return}},Ke=new RegExp("^(?:[a-z]+:)?//","i"),Ze=e=>Ke.test(e),Qe=e=>new Promise((t=>setTimeout(t,e))),et=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new dt(`${e} must be an integer`);if(t<0)throw new dt(`${e} must be a positive integer`);return t},tt=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},nt=e=>"undefined"!=typeof process?"MISSING_ENV_VAR"?.[e]?.trim()??void 0:"undefined"!=typeof Deno?Deno.env?.get?.(e)?.trim():void 0;function rt(e){if(!e)return!0;for(const t in e)return!1;return!0}function st(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ot(e,t){for(const n in t){if(!st(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];null===s?delete e[r]:void 0!==s&&(e[r]=s)}}function at(e,...t){"undefined"!=typeof process&&"true"==="MISSING_ENV_VAR"?.DEBUG&&console.log(`OpenAI:DEBUG:${e}`,...t)}const it=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),ct=(e,t)=>{const n=t.toLowerCase();if((e=>"function"==typeof e?.get)(e)){const r=t[0]?.toUpperCase()+t.substring(1).replace(/([^\w])(\w)/g,((e,t,n)=>t+n.toUpperCase()));for(const s of[t,n,t.toUpperCase(),r]){const t=e.get(s);if(t)return t}}for(const[r,s]of Object.entries(e))if(r.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${t} header, using the first entry.`),s[0]):s};function lt(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}class dt extends Error{}class At extends dt{constructor(e,t,n,r){super(`${At.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.request_id=r?.["x-request-id"];const s=t;this.error=s,this.code=s?.code,this.param=s?.param,this.type=s?.type}static makeMessage(e,t,n){const r=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e)return new ht({message:n,cause:tt(t)});const s=t?.error;return 400===e?new pt(e,s,n,r):401===e?new mt(e,s,n,r):403===e?new gt(e,s,n,r):404===e?new yt(e,s,n,r):409===e?new wt(e,s,n,r):422===e?new bt(e,s,n,r):429===e?new vt(e,s,n,r):e>=500?new xt(e,s,n,r):new At(e,s,n,r)}}class ut extends At{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class ht extends At{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,t&&(this.cause=t)}}class ft extends ht{constructor({message:e}={}){super({message:e??"Request timed out."})}}class pt extends At{constructor(){super(...arguments),this.status=400}}class mt extends At{constructor(){super(...arguments),this.status=401}}class gt extends At{constructor(){super(...arguments),this.status=403}}class yt extends At{constructor(){super(...arguments),this.status=404}}class wt extends At{constructor(){super(...arguments),this.status=409}}class bt extends At{constructor(){super(...arguments),this.status=422}}class vt extends At{constructor(){super(...arguments),this.status=429}}class xt extends At{}class Et extends dt{constructor(){super("Could not parse response content as the length limit was reached")}}class Bt extends dt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}const _t="RFC3986",St={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},Ct=(Object.prototype.hasOwnProperty,Array.isArray),kt=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),jt=1024;function Ot(e,t){if(Ct(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const Pt=Object.prototype.hasOwnProperty,Mt={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},Rt=Array.isArray,Nt=Array.prototype.push,Dt=function(e,t){Nt.apply(e,Rt(t)?t:[t])},It=Date.prototype.toISOString,Tt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(e,t,n,r,s)=>{if(0===e.length)return e;let o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));let a="";for(let e=0;e<o.length;e+=jt){const t=o.length>=jt?o.slice(e,e+jt):o,n=[];for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||"RFC1738"===s&&(40===r||41===r)?n[n.length]=t.charAt(e):r<128?n[n.length]=kt[r]:r<2048?n[n.length]=kt[192|r>>6]+kt[128|63&r]:r<55296||r>=57344?n[n.length]=kt[224|r>>12]+kt[128|r>>6&63]+kt[128|63&r]:(e+=1,r=65536+((1023&r)<<10|1023&t.charCodeAt(e)),n[n.length]=kt[240|r>>18]+kt[128|r>>12&63]+kt[128|r>>6&63]+kt[128|63&r])}a+=n.join("")}return a},encodeValuesOnly:!1,format:_t,formatter:St[_t],indices:!1,serializeDate:e=>It.call(e),skipNulls:!1,strictNullHandling:!1},$t={};function Lt(e,t,n,r,s,o,a,i,c,l,d,A,u,h,f,p,m,g){let y=e,w=g,b=0,v=!1;for(;void 0!==(w=w.get($t))&&!v;){const t=w.get(e);if(b+=1,void 0!==t){if(t===b)throw new RangeError("Cyclic object value");v=!0}void 0===w.get($t)&&(b=0)}if("function"==typeof l?y=l(t,y):y instanceof Date?y=u?.(y):"comma"===n&&Rt(y)&&(y=Ot(y,(function(e){return e instanceof Date?u?.(e):e}))),null===y){if(o)return c&&!p?c(t,Tt.encoder,m,"key",h):t;y=""}if("string"==typeof(x=y)||"number"==typeof x||"boolean"==typeof x||"symbol"==typeof x||"bigint"==typeof x||function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))}(y)){if(c){const e=p?t:c(t,Tt.encoder,m,"key",h);return[f?.(e)+"="+f?.(c(y,Tt.encoder,m,"value",h))]}return[f?.(t)+"="+f?.(String(y))]}var x;const E=[];if(void 0===y)return E;let B;if("comma"===n&&Rt(y))p&&c&&(y=Ot(y,c)),B=[{value:y.length>0?y.join(",")||null:void 0}];else if(Rt(l))B=l;else{const e=Object.keys(y);B=d?e.sort(d):e}const _=i?String(t).replace(/\./g,"%2E"):String(t),S=r&&Rt(y)&&1===y.length?_+"[]":_;if(s&&Rt(y)&&0===y.length)return S+"[]";for(let t=0;t<B.length;++t){const w=B[t],v="object"==typeof w&&void 0!==w.value?w.value:y[w];if(a&&null===v)continue;const x=A&&i?w.replace(/\./g,"%2E"):w,_=Rt(y)?"function"==typeof n?n(S,x):S:S+(A?"."+x:"["+x+"]");g.set(e,b);const C=new WeakMap;C.set($t,g),Dt(E,Lt(v,_,n,r,s,o,a,i,"comma"===n&&p&&Rt(y)?null:c,l,d,A,u,h,f,p,m,C))}return E}class Ft extends We{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Wt extends We{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){const e=this.getPaginatedItems();if(!e.length)return null;const t=e[e.length-1]?.id;return t?{params:{after:t}}:null}}class Ut{constructor(e){this._client=e}}class qt extends Ut{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}qt||(qt={});class zt extends Ut{create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}}zt||(zt={});class Xt extends Ut{constructor(){super(...arguments),this.completions=new zt(this._client)}}!function(e){e.Completions=zt}(Xt||(Xt={}));class Ht extends Ut{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}Ht||(Ht={});class Vt extends Ut{create(e,t){return this._client.post("/files",Re({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return Xe(e)?this.list({},e):this._client.getAPIList("/files",Jt,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t?.headers}})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:n=18e5}={}){const r=new Set(["processed","error","deleted"]),s=Date.now();let o=await this.retrieve(e);for(;!o.status||!r.has(o.status);)if(await Qe(t),o=await this.retrieve(e),Date.now()-s>n)throw new ft({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return o}}class Jt extends Ft{}!function(e){e.FileObjectsPage=Jt}(Vt||(Vt={}));class Gt extends Ut{createVariation(e,t){return this._client.post("/images/variations",Re({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",Re({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}Gt||(Gt={});class Yt extends Ut{create(e,t){return this._client.post("/audio/speech",{body:e,...t,__binaryResponse:!0})}}Yt||(Yt={});class Kt extends Ut{create(e,t){return this._client.post("/audio/transcriptions",Re({body:e,...t}))}}Kt||(Kt={});class Zt extends Ut{create(e,t){return this._client.post("/audio/translations",Re({body:e,...t}))}}Zt||(Zt={});class Qt extends Ut{constructor(){super(...arguments),this.transcriptions=new Kt(this._client),this.translations=new Zt(this._client),this.speech=new Yt(this._client)}}!function(e){e.Transcriptions=Kt,e.Translations=Zt,e.Speech=Yt}(Qt||(Qt={}));class en extends Ut{create(e,t){return this._client.post("/moderations",{body:e,...t})}}en||(en={});class tn extends Ut{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",nn,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class nn extends Ft{}!function(e){e.ModelsPage=nn}(tn||(tn={}));class rn extends Ut{list(e,t={},n){return Xe(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,sn,{query:t,...n})}}class sn extends Wt{}!function(e){e.FineTuningJobCheckpointsPage=sn}(rn||(rn={}));class on extends Ut{constructor(){super(...arguments),this.checkpoints=new rn(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return Xe(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",an,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},n){return Xe(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,cn,{query:t,...n})}}class an extends Wt{}class cn extends Wt{}!function(e){e.FineTuningJobsPage=an,e.FineTuningJobEventsPage=cn,e.Checkpoints=rn,e.FineTuningJobCheckpointsPage=sn}(on||(on={}));class ln extends Ut{constructor(){super(...arguments),this.jobs=new on(this._client)}}!function(e){e.Jobs=on,e.FineTuningJobsPage=an,e.FineTuningJobEventsPage=cn}(ln||(ln={}));class dn extends Ut{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/assistants/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e={},t){return Xe(e)?this.list({},e):this._client.getAPIList("/assistants",An,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class An extends Wt{}function un(e){return"function"==typeof e.parse}!function(e){e.AssistantsPage=An}(dn||(dn={}));const hn=e=>"assistant"===e?.role,fn=e=>"function"===e?.role,pn=e=>"tool"===e?.role;var mn,gn,yn,wn,bn,vn,xn,En,Bn,_n,Sn,Cn,kn,jn=function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},On=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class Pn{constructor(){mn.add(this),this.controller=new AbortController,gn.set(this,void 0),yn.set(this,(()=>{})),wn.set(this,(()=>{})),bn.set(this,void 0),vn.set(this,(()=>{})),xn.set(this,(()=>{})),En.set(this,{}),Bn.set(this,!1),_n.set(this,!1),Sn.set(this,!1),Cn.set(this,!1),jn(this,gn,new Promise(((e,t)=>{jn(this,yn,e,"f"),jn(this,wn,t,"f")})),"f"),jn(this,bn,new Promise(((e,t)=>{jn(this,vn,e,"f"),jn(this,xn,t,"f")})),"f"),On(this,gn,"f").catch((()=>{})),On(this,bn,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),On(this,mn,"m",kn).bind(this))}),0)}_connected(){this.ended||(On(this,yn,"f").call(this),this._emit("connect"))}get ended(){return On(this,Bn,"f")}get errored(){return On(this,_n,"f")}get aborted(){return On(this,Sn,"f")}abort(){this.controller.abort()}on(e,t){return(On(this,En,"f")[e]||(On(this,En,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=On(this,En,"f")[e];if(!n)return this;const r=n.findIndex((e=>e.listener===t));return r>=0&&n.splice(r,1),this}once(e,t){return(On(this,En,"f")[e]||(On(this,En,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{jn(this,Cn,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){jn(this,Cn,!0,"f"),await On(this,bn,"f")}_emit(e,...t){if(On(this,Bn,"f"))return;"end"===e&&(jn(this,Bn,!0,"f"),On(this,vn,"f").call(this));const n=On(this,En,"f")[e];if(n&&(On(this,En,"f")[e]=n.filter((e=>!e.once)),n.forEach((({listener:e})=>e(...t)))),"abort"===e){const e=t[0];return On(this,Cn,"f")||n?.length||Promise.reject(e),On(this,wn,"f").call(this,e),On(this,xn,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];On(this,Cn,"f")||n?.length||Promise.reject(e),On(this,wn,"f").call(this,e),On(this,xn,"f").call(this,e),this._emit("end")}}_emitFinal(){}}function Mn(e){return"auto-parseable-response-format"===e?.$brand}function Rn(e){return"auto-parseable-tool"===e?.$brand}function Nn(e,t){const n=e.choices.map((e=>{if("length"===e.finish_reason)throw new Et;if("content_filter"===e.finish_reason)throw new Bt;return{...e,message:{...e.message,tool_calls:e.message.tool_calls?.map((e=>function(e,t){const n=e.tools?.find((e=>e.function?.name===t.function.name));return{...t,function:{...t.function,parsed_arguments:Rn(n)?n.$parseRaw(t.function.arguments):n?.function.strict?JSON.parse(t.function.arguments):null}}}(t,e)))??[],parsed:e.message.content&&!e.message.refusal?Dn(t,e.message.content):null}}}));return{...e,choices:n}}function Dn(e,t){return"json_schema"!==e.response_format?.type?null:"json_schema"===e.response_format?.type?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function In(e,t){if(!e)return!1;const n=e.tools?.find((e=>e.function?.name===t.function.name));return Rn(n)||n?.function.strict||!1}function Tn(e){return!!Mn(e.response_format)||(e.tools?.some((e=>Rn(e)||"function"===e.type&&!0===e.function.strict))??!1)}gn=new WeakMap,yn=new WeakMap,wn=new WeakMap,bn=new WeakMap,vn=new WeakMap,xn=new WeakMap,En=new WeakMap,Bn=new WeakMap,_n=new WeakMap,Sn=new WeakMap,Cn=new WeakMap,mn=new WeakSet,kn=function(e){if(jn(this,_n,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new ut),e instanceof ut)return jn(this,Sn,!0,"f"),this._emit("abort",e);if(e instanceof dt)return this._emit("error",e);if(e instanceof Error){const t=new dt(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new dt(String(e)))};var $n,Ln,Fn,Wn,Un,qn,zn,Xn,Hn=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const Vn=10;class Jn extends Pn{constructor(){super(...arguments),$n.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(fn(e)||pn(e))&&e.content)this._emit("functionCallResult",e.content);else if(hn(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(hn(e)&&e.tool_calls)for(const t of e.tool_calls)"function"===t.type&&this._emit("functionCall",t.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new dt("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Hn(this,$n,"m",Ln).call(this)}async finalMessage(){return await this.done(),Hn(this,$n,"m",Fn).call(this)}async finalFunctionCall(){return await this.done(),Hn(this,$n,"m",Wn).call(this)}async finalFunctionCallResult(){return await this.done(),Hn(this,$n,"m",Un).call(this)}async totalUsage(){return await this.done(),Hn(this,$n,"m",qn).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=Hn(this,$n,"m",Fn).call(this);t&&this._emit("finalMessage",t);const n=Hn(this,$n,"m",Ln).call(this);n&&this._emit("finalContent",n);const r=Hn(this,$n,"m",Wn).call(this);r&&this._emit("finalFunctionCall",r);const s=Hn(this,$n,"m",Un).call(this);null!=s&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",Hn(this,$n,"m",qn).call(this))}async _createChatCompletion(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),Hn(this,$n,"m",zn).call(this,t);const s=await e.chat.completions.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Nn(s,t))}async _runChatCompletion(e,t,n){for(const e of t.messages)this._addMessage(e,!1);return await this._createChatCompletion(e,t,n)}async _runFunctions(e,t,n){const r="function",{function_call:s="auto",stream:o,...a}=t,i="string"!=typeof s&&s?.name,{maxChatCompletions:c=Vn}=n||{},l={};for(const e of t.functions)l[e.name||e.function.name]=e;const d=t.functions.map((e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description})));for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<c;++t){const t=await this._createChatCompletion(e,{...a,function_call:s,functions:d,messages:[...this.messages]},n),o=t.choices[0]?.message;if(!o)throw new dt("missing message in ChatCompletion response");if(!o.function_call)return;const{name:c,arguments:A}=o.function_call,u=l[c];if(!u){const e=`Invalid function_call: ${JSON.stringify(c)}. Available options are: ${d.map((e=>JSON.stringify(e.name))).join(", ")}. Please try again`;this._addMessage({role:r,name:c,content:e});continue}if(i&&i!==c){const e=`Invalid function_call: ${JSON.stringify(c)}. ${JSON.stringify(i)} requested. Please try again`;this._addMessage({role:r,name:c,content:e});continue}let h;try{h=un(u)?await u.parse(A):A}catch(e){this._addMessage({role:r,name:c,content:e instanceof Error?e.message:String(e)});continue}const f=await u.function(h,this),p=Hn(this,$n,"m",Xn).call(this,f);if(this._addMessage({role:r,name:c,content:p}),i)return}}async _runTools(e,t,n){const r="tool",{tool_choice:s="auto",stream:o,...a}=t,i="string"!=typeof s&&s?.function?.name,{maxChatCompletions:c=Vn}=n||{},l=t.tools.map((e=>{if(Rn(e)){if(!e.$callback)throw new dt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e})),d={};for(const e of l)"function"===e.type&&(d[e.function.name||e.function.function.name]=e.function);const A="tools"in t?l.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e)):void 0;for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<c;++t){const t=await this._createChatCompletion(e,{...a,tool_choice:s,tools:A,messages:[...this.messages]},n),o=t.choices[0]?.message;if(!o)throw new dt("missing message in ChatCompletion response");if(!o.tool_calls?.length)return;for(const e of o.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:s}=e.function,o=d[n];if(!o){const e=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${Object.keys(d).map((e=>JSON.stringify(e))).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}if(i&&i!==n){const e=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(i)} requested. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}let a;try{a=un(o)?await o.parse(s):s}catch(e){const n=e instanceof Error?e.message:String(e);this._addMessage({role:r,tool_call_id:t,content:n});continue}const c=await o.function(a,this),l=Hn(this,$n,"m",Xn).call(this,c);if(this._addMessage({role:r,tool_call_id:t,content:l}),i)return}}}}$n=new WeakSet,Ln=function(){return Hn(this,$n,"m",Fn).call(this).content??null},Fn=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(hn(t)){const{function_call:e,...n}=t,r={...n,content:t.content??null,refusal:t.refusal??null};return e&&(r.function_call=e),r}}throw new dt("stream ended without producing a ChatCompletionMessage with role=assistant")},Wn=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(hn(t)&&t?.function_call)return t.function_call;if(hn(t)&&t?.tool_calls?.length)return t.tool_calls.at(-1)?.function}},Un=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(fn(t)&&null!=t.content)return t.content;if(pn(t)&&null!=t.content&&"string"==typeof t.content&&this.messages.some((e=>"assistant"===e.role&&e.tool_calls?.some((e=>"function"===e.type&&e.id===t.tool_call_id)))))return t.content}},qn=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},zn=function(e){if(null!=e.n&&e.n>1)throw new dt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Xn=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class Gn extends Jn{static runFunctions(e,t,n){const r=new Gn,s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,s))),r}static runTools(e,t,n){const r=new Gn,s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,s))),r}_addMessage(e,t=!0){super._addMessage(e,t),hn(e)&&e.content&&this._emit("content",e.content)}}class Yn extends Error{}class Kn extends Error{}const Zn=e=>function(e,t=511){if("string"!=typeof e)throw new TypeError("expecting str, got "+typeof e);if(!e.trim())throw new Error(`${e} is empty`);return((e,t)=>{const n=e.length;let r=0;const s=e=>{throw new Yn(`${e} at position ${r}`)},o=e=>{throw new Kn(`${e} at position ${r}`)},a=()=>(A(),r>=n&&s("Unexpected end of input"),'"'===e[r]?i():"{"===e[r]?c():"["===e[r]?l():"null"===e.substring(r,r+4)||16&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):"true"===e.substring(r,r+4)||32&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):"false"===e.substring(r,r+5)||32&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):"Infinity"===e.substring(r,r+8)||128&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):"-Infinity"===e.substring(r,r+9)||256&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):"NaN"===e.substring(r,r+3)||64&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):d()),i=()=>{const a=r;let i=!1;for(r++;r<n&&('"'!==e[r]||i&&"\\"===e[r-1]);)i="\\"===e[r]&&!i,r++;if('"'==e.charAt(r))try{return JSON.parse(e.substring(a,++r-Number(i)))}catch(e){o(String(e))}else if(1&t)try{return JSON.parse(e.substring(a,r-Number(i))+'"')}catch(t){return JSON.parse(e.substring(a,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},c=()=>{r++,A();const o={};try{for(;"}"!==e[r];){if(A(),r>=n&&8&t)return o;const s=i();A(),r++;try{const e=a();Object.defineProperty(o,s,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(e){if(8&t)return o;throw e}A(),","===e[r]&&r++}}catch(e){if(8&t)return o;s("Expected '}' at end of object")}return r++,o},l=()=>{r++;const n=[];try{for(;"]"!==e[r];)n.push(a()),A(),","===e[r]&&r++}catch(e){if(4&t)return n;s("Expected ']' at end of array")}return r++,n},d=()=>{if(0===r){"-"===e&&2&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(n){if(2&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(e){}o(String(n))}}const a=r;for("-"===e[r]&&r++;e[r]&&!",]}".includes(e[r]);)r++;r!=n||2&t||s("Unterminated number literal");try{return JSON.parse(e.substring(a,r))}catch(n){"-"===e.substring(a,r)&&2&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(a,e.lastIndexOf("e")))}catch(e){o(String(e))}}},A=()=>{for(;r<n&&" \n\r\t".includes(e[r]);)r++};return a()})(e.trim(),t)}(e,509);var Qn,er,tr,nr,rr,sr,or,ar,ir,cr,lr,dr,Ar=function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},ur=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class hr extends Jn{constructor(e){super(),Qn.add(this),er.set(this,void 0),tr.set(this,void 0),nr.set(this,void 0),Ar(this,er,e,"f"),Ar(this,tr,[],"f")}get currentChatCompletionSnapshot(){return ur(this,nr,"f")}static fromReadableStream(e){const t=new hr(null);return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,n){const r=new hr(t);return r._run((()=>r._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}async _createChatCompletion(e,t,n){super._createChatCompletion;const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),ur(this,Qn,"m",rr).call(this);const s=await e.chat.completions.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const e of s)ur(this,Qn,"m",or).call(this,e);if(s.controller.signal?.aborted)throw new ut;return this._addChatCompletion(ur(this,Qn,"m",cr).call(this))}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),ur(this,Qn,"m",rr).call(this),this._connected();const r=ve.fromReadableStream(e,this.controller);let s;for await(const e of r)s&&s!==e.id&&this._addChatCompletion(ur(this,Qn,"m",cr).call(this)),ur(this,Qn,"m",or).call(this,e),s=e.id;if(r.controller.signal?.aborted)throw new ut;return this._addChatCompletion(ur(this,Qn,"m",cr).call(this))}[(er=new WeakMap,tr=new WeakMap,nr=new WeakMap,Qn=new WeakSet,rr=function(){this.ended||Ar(this,nr,void 0,"f")},sr=function(e){let t=ur(this,tr,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ur(this,tr,"f")[e.index]=t,t)},or=function(e){if(this.ended)return;const t=ur(this,Qn,"m",dr).call(this,e);this._emit("chunk",e,t);for(const n of e.choices){const e=t.choices[n.index];null!=n.delta.content&&"assistant"===e.message?.role&&e.message?.content&&(this._emit("content",n.delta.content,e.message.content),this._emit("content.delta",{delta:n.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=n.delta.refusal&&"assistant"===e.message?.role&&e.message?.refusal&&this._emit("refusal.delta",{delta:n.delta.refusal,snapshot:e.message.refusal}),null!=n.logprobs?.content&&"assistant"===e.message?.role&&this._emit("logprobs.content.delta",{content:n.logprobs?.content,snapshot:e.logprobs?.content??[]}),null!=n.logprobs?.refusal&&"assistant"===e.message?.role&&this._emit("logprobs.refusal.delta",{refusal:n.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});const r=ur(this,Qn,"m",sr).call(this,e);e.finish_reason&&(ur(this,Qn,"m",ir).call(this,e),null!=r.current_tool_call_index&&ur(this,Qn,"m",ar).call(this,e,r.current_tool_call_index));for(const t of n.delta.tool_calls??[])r.current_tool_call_index!==t.index&&(ur(this,Qn,"m",ir).call(this,e),null!=r.current_tool_call_index&&ur(this,Qn,"m",ar).call(this,e,r.current_tool_call_index)),r.current_tool_call_index=t.index;for(const t of n.delta.tool_calls??[]){const n=e.message.tool_calls?.[t.index];n?.type&&"function"===n?.type&&this._emit("tool_calls.function.arguments.delta",{name:n.function?.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:t.function?.arguments??""})}}},ar=function(e,t){if(ur(this,Qn,"m",sr).call(this,e).done_tool_calls.has(t))return;const n=e.message.tool_calls?.[t];if(!n)throw new Error("no tool call snapshot");if(!n.type)throw new Error("tool call snapshot missing `type`");if("function"===n.type){const e=ur(this,er,"f")?.tools?.find((e=>"function"===e.type&&e.function.name===n.function.name));this._emit("tool_calls.function.arguments.done",{name:n.function.name,index:t,arguments:n.function.arguments,parsed_arguments:Rn(e)?e.$parseRaw(n.function.arguments):e?.function.strict?JSON.parse(n.function.arguments):null})}else n.type},ir=function(e){const t=ur(this,Qn,"m",sr).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;const n=ur(this,Qn,"m",lr).call(this);this._emit("content.done",{content:e.message.content,parsed:n?n.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},cr=function(){if(this.ended)throw new dt("stream has ended, this shouldn't happen");const e=ur(this,nr,"f");if(!e)throw new dt("request ended without sending any chunks");return Ar(this,nr,void 0,"f"),Ar(this,tr,[],"f"),function(e,t){const{id:n,choices:r,created:s,model:o,system_fingerprint:a,...i}=e,c={...i,id:n,choices:r.map((({message:t,finish_reason:n,index:r,logprobs:s,...o})=>{if(!n)throw new dt(`missing finish_reason for choice ${r}`);const{content:a=null,function_call:i,tool_calls:c,...l}=t,d=t.role;if(!d)throw new dt(`missing role for choice ${r}`);if(i){const{arguments:e,name:c}=i;if(null==e)throw new dt(`missing function_call.arguments for choice ${r}`);if(!c)throw new dt(`missing function_call.name for choice ${r}`);return{...o,message:{content:a,function_call:{arguments:e,name:c},role:d,refusal:t.refusal??null},finish_reason:n,index:r,logprobs:s}}return c?{...o,index:r,finish_reason:n,logprobs:s,message:{...l,role:d,content:a,refusal:t.refusal??null,tool_calls:c.map(((t,n)=>{const{function:s,type:o,id:a,...i}=t,{arguments:c,name:l,...d}=s||{};if(null==a)throw new dt(`missing choices[${r}].tool_calls[${n}].id\n${fr(e)}`);if(null==o)throw new dt(`missing choices[${r}].tool_calls[${n}].type\n${fr(e)}`);if(null==l)throw new dt(`missing choices[${r}].tool_calls[${n}].function.name\n${fr(e)}`);if(null==c)throw new dt(`missing choices[${r}].tool_calls[${n}].function.arguments\n${fr(e)}`);return{...i,id:a,type:o,function:{...d,name:l,arguments:c}}}))}}:{...o,message:{...l,content:a,role:d,refusal:t.refusal??null},finish_reason:n,index:r,logprobs:s}})),created:s,model:o,object:"chat.completion",...a?{system_fingerprint:a}:{}};return function(e,t){return t&&Tn(t)?Nn(e,t):{...e,choices:e.choices.map((e=>({...e,message:{...e.message,parsed:null,tool_calls:e.message.tool_calls??[]}})))}}(c,t)}(e,ur(this,er,"f"))},lr=function(){const e=ur(this,er,"f")?.response_format;return Mn(e)?e:null},dr=function(e){var t,n,r,s;let o=ur(this,nr,"f");const{choices:a,...i}=e;o?Object.assign(o,i):o=Ar(this,nr,{...i,choices:[]},"f");for(const{delta:a,finish_reason:i,index:c,logprobs:l=null,...d}of e.choices){let e=o.choices[c];if(e||(e=o.choices[c]={finish_reason:i,index:c,message:{},logprobs:l,...d}),l)if(e.logprobs){const{content:r,refusal:s,...o}=l;Object.assign(e.logprobs,o),r&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...r)),s&&((n=e.logprobs).refusal??(n.refusal=[]),e.logprobs.refusal.push(...s))}else e.logprobs=Object.assign({},l);if(i&&(e.finish_reason=i,ur(this,er,"f")&&Tn(ur(this,er,"f")))){if("length"===i)throw new Et;if("content_filter"===i)throw new Bt}if(Object.assign(e,d),!a)continue;const{content:A,refusal:u,function_call:h,role:f,tool_calls:p,...m}=a;if(Object.assign(e.message,m),u&&(e.message.refusal=(e.message.refusal||"")+u),f&&(e.message.role=f),h&&(e.message.function_call?(h.name&&(e.message.function_call.name=h.name),h.arguments&&((r=e.message.function_call).arguments??(r.arguments=""),e.message.function_call.arguments+=h.arguments)):e.message.function_call=h),A&&(e.message.content=(e.message.content||"")+A,!e.message.refusal&&ur(this,Qn,"m",lr).call(this)&&(e.message.parsed=Zn(e.message.content))),p){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:n,type:r,function:o,...a}of p){const i=(s=e.message.tool_calls)[t]??(s[t]={});Object.assign(i,a),n&&(i.id=n),r&&(i.type=r),o&&(i.function??(i.function={name:o.name??"",arguments:""})),o?.name&&(i.function.name=o.name),o?.arguments&&(i.function.arguments+=o.arguments,In(ur(this,er,"f"),i)&&(i.function.parsed_arguments=Zn(i.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0})),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ve(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function fr(e){return JSON.stringify(e)}class pr extends hr{static fromReadableStream(e){const t=new pr(null);return t._run((()=>t._fromReadableStream(e))),t}static runFunctions(e,t,n){const r=new pr(null),s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,s))),r}static runTools(e,t,n){const r=new pr(t),s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,s))),r}}class mr extends Ut{parse(e,t){return function(e){for(const t of e??[]){if("function"!==t.type)throw new dt(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new dt(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap((t=>Nn(t,e)))}runFunctions(e,t){return e.stream?pr.runFunctions(this._client,e,t):Gn.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?pr.runTools(this._client,e,t):Gn.runTools(this._client,e,t)}stream(e,t){return hr.createChatCompletion(this._client,e,t)}}class gr extends Ut{constructor(){super(...arguments),this.completions=new mr(this._client)}}!function(e){e.Completions=mr}(gr||(gr={}));var yr,wr,br,vr,xr,Er,Br,_r,Sr,Cr,kr,jr,Or,Pr,Mr,Rr,Nr,Dr,Ir,Tr,$r,Lr,Fr,Wr=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},Ur=function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n};class qr extends Pn{constructor(){super(...arguments),yr.add(this),wr.set(this,[]),br.set(this,{}),vr.set(this,{}),xr.set(this,void 0),Er.set(this,void 0),Br.set(this,void 0),_r.set(this,void 0),Sr.set(this,void 0),Cr.set(this,void 0),kr.set(this,void 0),jr.set(this,void 0),Or.set(this,void 0)}[(wr=new WeakMap,br=new WeakMap,vr=new WeakMap,xr=new WeakMap,Er=new WeakMap,Br=new WeakMap,_r=new WeakMap,Sr=new WeakMap,Cr=new WeakMap,kr=new WeakMap,jr=new WeakMap,Or=new WeakMap,yr=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0})),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new qr;return t._run((()=>t._fromReadableStream(e))),t}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const r=ve.fromReadableStream(e,this.controller);for await(const e of r)Wr(this,yr,"m",Pr).call(this,e);if(r.controller.signal?.aborted)throw new ut;return this._addRun(Wr(this,yr,"m",Mr).call(this))}toReadableStream(){return new ve(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r,s){const o=new qr;return o._run((()=>o._runToolAssistantStream(e,t,n,r,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}}))),o}async _createToolAssistantStream(e,t,n,r,s){const o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort())));const a={...r,stream:!0},i=await e.submitToolOutputs(t,n,a,{...s,signal:this.controller.signal});this._connected();for await(const e of i)Wr(this,yr,"m",Pr).call(this,e);if(i.controller.signal?.aborted)throw new ut;return this._addRun(Wr(this,yr,"m",Mr).call(this))}static createThreadAssistantStream(e,t,n){const r=new qr;return r._run((()=>r._threadAssistantStream(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}static createAssistantStream(e,t,n,r){const s=new qr;return s._run((()=>s._runAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}}))),s}currentEvent(){return Wr(this,kr,"f")}currentRun(){return Wr(this,jr,"f")}currentMessageSnapshot(){return Wr(this,xr,"f")}currentRunStepSnapshot(){return Wr(this,Or,"f")}async finalRunSteps(){return await this.done(),Object.values(Wr(this,br,"f"))}async finalMessages(){return await this.done(),Object.values(Wr(this,vr,"f"))}async finalRun(){if(await this.done(),!Wr(this,Er,"f"))throw Error("Final run was not received.");return Wr(this,Er,"f")}async _createThreadAssistantStream(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const s={...t,stream:!0},o=await e.createAndRun(s,{...n,signal:this.controller.signal});this._connected();for await(const e of o)Wr(this,yr,"m",Pr).call(this,e);if(o.controller.signal?.aborted)throw new ut;return this._addRun(Wr(this,yr,"m",Mr).call(this))}async _createAssistantStream(e,t,n,r){const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",(()=>this.controller.abort())));const o={...n,stream:!0},a=await e.create(t,o,{...r,signal:this.controller.signal});this._connected();for await(const e of a)Wr(this,yr,"m",Pr).call(this,e);if(a.controller.signal?.aborted)throw new ut;return this._addRun(Wr(this,yr,"m",Mr).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!=t)if("index"!==n&&"type"!==n){if("string"==typeof t&&"string"==typeof r)t+=r;else if("number"==typeof t&&"number"==typeof r)t+=r;else{if(!lt(t)||!lt(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every((e=>"string"==typeof e||"number"==typeof e))){t.push(...r);continue}for(const e of r){if(!lt(e))throw new Error(`Expected array delta entry to be an object but got: ${e}`);const n=e.index;if(null==n)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!=typeof n)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${n}`);const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${t}`)}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r,s){return await this._createToolAssistantStream(n,e,t,r,s)}}Pr=function(e){if(!this.ended)switch(Ur(this,kr,e,"f"),Wr(this,yr,"m",Dr).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Wr(this,yr,"m",Lr).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Wr(this,yr,"m",Nr).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Wr(this,yr,"m",Rr).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Mr=function(){if(this.ended)throw new dt("stream has ended, this shouldn't happen");if(!Wr(this,Er,"f"))throw Error("Final run has not been received");return Wr(this,Er,"f")},Rr=function(e){const[t,n]=Wr(this,yr,"m",Tr).call(this,e,Wr(this,xr,"f"));Ur(this,xr,t,"f"),Wr(this,vr,"f")[t.id]=t;for(const e of n){const n=t.content[e.index];"text"==n?.type&&this._emit("textCreated",n.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=Wr(this,Br,"f")){if(Wr(this,_r,"f"))switch(Wr(this,_r,"f").type){case"text":this._emit("textDone",Wr(this,_r,"f").text,Wr(this,xr,"f"));break;case"image_file":this._emit("imageFileDone",Wr(this,_r,"f").image_file,Wr(this,xr,"f"))}Ur(this,Br,n.index,"f")}Ur(this,_r,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==Wr(this,Br,"f")){const t=e.data.content[Wr(this,Br,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,Wr(this,xr,"f"));break;case"text":this._emit("textDone",t.text,Wr(this,xr,"f"))}}Wr(this,xr,"f")&&this._emit("messageDone",e.data),Ur(this,xr,void 0,"f")}},Nr=function(e){const t=Wr(this,yr,"m",Ir).call(this,e);switch(Ur(this,Or,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==Wr(this,Sr,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(Wr(this,Cr,"f")&&this._emit("toolCallDone",Wr(this,Cr,"f")),Ur(this,Sr,e.index,"f"),Ur(this,Cr,t.step_details.tool_calls[e.index],"f"),Wr(this,Cr,"f")&&this._emit("toolCallCreated",Wr(this,Cr,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ur(this,Or,void 0,"f"),"tool_calls"==e.data.step_details.type&&Wr(this,Cr,"f")&&(this._emit("toolCallDone",Wr(this,Cr,"f")),Ur(this,Cr,void 0,"f")),this._emit("runStepDone",e.data,t)}},Dr=function(e){Wr(this,wr,"f").push(e),this._emit("event",e)},Ir=function(e){switch(e.event){case"thread.run.step.created":return Wr(this,br,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=Wr(this,br,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=qr.accumulateDelta(t,n.delta);Wr(this,br,"f")[e.data.id]=r}return Wr(this,br,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Wr(this,br,"f")[e.data.id]=e.data}if(Wr(this,br,"f")[e.data.id])return Wr(this,br,"f")[e.data.id];throw new Error("No snapshot available")},Tr=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const e of r.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=Wr(this,yr,"m",$r).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},$r=function(e,t){return qr.accumulateDelta(t,e)},Lr=function(e){switch(Ur(this,jr,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Ur(this,Er,e.data,"f"),Wr(this,Cr,"f")&&(this._emit("toolCallDone",Wr(this,Cr,"f")),Ur(this,Cr,void 0,"f"))}};class zr extends Ut{create(e,t,n){return this._client.post(`/threads/${e}/messages`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/messages/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e,t={},n){return Xe(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,Xr,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class Xr extends Wt{}!function(e){e.MessagesPage=Xr}(zr||(zr={}));class Hr extends Ut{retrieve(e,t,n,r={},s){return Xe(r)?this.retrieve(e,t,n,{},r):this._client.get(`/threads/${e}/runs/${t}/steps/${n}`,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}list(e,t,n={},r){return Xe(n)?this.list(e,t,{},n):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,Vr,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}class Vr extends Wt{}!function(e){e.RunStepsPage=Vr}(Hr||(Hr={}));class Jr extends Ut{constructor(){super(...arguments),this.steps=new Hr(this._client)}create(e,t,n){const{include:r,...s}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:r},body:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:t.stream??!1})}retrieve(e,t,n){return this._client.get(`/threads/${e}/runs/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e,t={},n){return Xe(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,Gr,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}createAndStream(e,t,n){return qr.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(e,t,{...n,headers:{...n?.headers,...r}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Qe(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,t,n){return qr.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(e,t,n,r){const s=await this.submitToolOutputs(e,t,n,r);return await this.poll(e,s.id,r)}submitToolOutputsStream(e,t,n,r){return qr.createToolAssistantStream(e,t,this._client.beta.threads.runs,n,r)}}class Gr extends Wt{}!function(e){e.RunsPage=Gr,e.Steps=Hr,e.RunStepsPage=Vr}(Jr||(Jr={}));class Yr extends Ut{constructor(){super(...arguments),this.runs=new Jr(this._client),this.messages=new zr(this._client)}create(e={},t){return Xe(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/threads/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.thread_id,n.id,t)}createAndRunStream(e,t){return qr.createThreadAssistantStream(e,this._client.beta.threads,t)}}!function(e){e.Runs=Jr,e.RunsPage=Gr,e.Messages=zr,e.MessagesPage=Xr}(Yr||(Yr={}));class Kr extends Ut{create(e,t,n){return this._client.post(`/vector_stores/${e}/files`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e,t={},n){return Xe(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,Zr,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const s=await this.retrieve(e,t,{...n,headers:r}).withResponse(),o=s.data;switch(o.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=s.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Qe(e);break;case"failed":case"completed":return o}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}}class Zr extends Wt{}!function(e){e.VectorStoreFilesPage=Zr}(Kr||(Kr={}));class Qr extends Ut{create(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t,n={},r){return Xe(n)?this.listFiles(e,t,{},n):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,Zr,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(e,t,{...n,headers:r}).withResponse();switch(s.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Qe(e);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:t,fileIds:n=[]},r){if(null==t||0==t.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=r?.maxConcurrency??5,o=Math.min(s,t.length),a=this._client,i=t.values(),c=[...n],l=Array(o).fill(i).map((async function(e){for(let t of e){const e=await a.files.create({file:t,purpose:"assistants"},r);c.push(e.id)}}));return await(async e=>{const t=await Promise.allSettled(e),n=t.filter((e=>"rejected"===e.status));if(n.length){for(const e of n)console.error(e.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const e of t)"fulfilled"===e.status&&r.push(e.value);return r})(l),await this.createAndPoll(e,{file_ids:c})}}Qr||(Qr={});class es extends Ut{constructor(){super(...arguments),this.files=new Kr(this._client),this.fileBatches=new Qr(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/vector_stores/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e={},t){return Xe(e)?this.list({},e):this._client.getAPIList("/vector_stores",ts,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class ts extends Wt{}!function(e){e.VectorStoresPage=ts,e.Files=Kr,e.VectorStoreFilesPage=Zr,e.FileBatches=Qr}(es||(es={}));class ns extends Ut{constructor(){super(...arguments),this.vectorStores=new es(this._client),this.chat=new gr(this._client),this.assistants=new dn(this._client),this.threads=new Yr(this._client)}}!function(e){e.VectorStores=es,e.VectorStoresPage=ts,e.Chat=gr,e.Assistants=dn,e.AssistantsPage=An,e.Threads=Yr}(ns||(ns={}));class rs extends Ut{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return Xe(e)?this.list({},e):this._client.getAPIList("/batches",ss,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class ss extends Wt{}!function(e){e.BatchesPage=ss}(rs||(rs={}));class os extends Ut{create(e,t,n){return this._client.post(`/uploads/${e}/parts`,Re({body:t,...n}))}}os||(os={});class as extends Ut{constructor(){super(...arguments),this.parts=new os(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,n){return this._client.post(`/uploads/${e}/complete`,{body:t,...n})}}!function(e){e.Parts=os}(as||(as={}));class is extends Fe{constructor({baseURL:e=nt("OPENAI_BASE_URL"),apiKey:t=nt("OPENAI_API_KEY"),organization:n=nt("OPENAI_ORG_ID")??null,project:r=nt("OPENAI_PROJECT_ID")??null,...s}={}){if(void 0===t)throw new dt("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:t,organization:n,project:r,...s,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator)throw new dt("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new qt(this),this.chat=new Xt(this),this.embeddings=new Ht(this),this.files=new Vt(this),this.images=new Gt(this),this.audio=new Qt(this),this.moderations=new en(this),this.models=new tn(this),this.fineTuning=new ln(this),this.beta=new ns(this),this.batches=new rs(this),this.uploads=new as(this),this._options=o,this.apiKey=t,this.organization=n,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return function(e,t={}){let n=e;const r=function(e=Tt){if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||Tt.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=_t;if(void 0!==e.format){if(!Pt.call(St,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=St[n];let s,o=Tt.filter;if(("function"==typeof e.filter||Rt(e.filter))&&(o=e.filter),s=e.arrayFormat&&e.arrayFormat in Mt?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":Tt.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=void 0===e.allowDots?1==!!e.encodeDotInKeys||Tt.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:Tt.addQueryPrefix,allowDots:a,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:Tt.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Tt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?Tt.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:Tt.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:Tt.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:Tt.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:Tt.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:Tt.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:Tt.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Tt.strictNullHandling}}(t);let s,o;"function"==typeof r.filter?(o=r.filter,n=o("",n)):Rt(r.filter)&&(o=r.filter,s=o);const a=[];if("object"!=typeof n||null===n)return"";const i=Mt[r.arrayFormat],c="comma"===i&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const l=new WeakMap;for(let e=0;e<s.length;++e){const t=s[e];r.skipNulls&&null===n[t]||Dt(a,Lt(n[t],t,i,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}const d=a.join(r.delimiter);let A=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?A+="utf8=%26%2310003%3B&":A+="utf8=%E2%9C%93&"),d.length>0?A+d:""}(e,{arrayFormat:"brackets"})}}Fr=is,is.OpenAI=Fr,is.DEFAULT_TIMEOUT=6e5,is.OpenAIError=dt,is.APIError=At,is.APIConnectionError=ht,is.APIConnectionTimeoutError=ft,is.APIUserAbortError=ut,is.NotFoundError=yt,is.ConflictError=wt,is.RateLimitError=vt,is.BadRequestError=pt,is.AuthenticationError=mt,is.InternalServerError=xt,is.PermissionDeniedError=gt,is.UnprocessableEntityError=bt,is.toFile=je,is.fileFromPath=he;const{vc:cs,LG:ls,xX:ds,qA:As,cH:us,m_:hs,fK:fs,OE:ps,v7:ms,v3:gs,PO:ys,Ll:ws,Is:bs}=e;!function(e){e.Page=Ft,e.CursorPage=Wt,e.Completions=qt,e.Chat=Xt,e.Embeddings=Ht,e.Files=Vt,e.FileObjectsPage=Jt,e.Images=Gt,e.Audio=Qt,e.Moderations=en,e.Models=tn,e.ModelsPage=nn,e.FineTuning=ln,e.Beta=ns,e.Batches=rs,e.BatchesPage=ss,e.Uploads=as}(is||(is={})),new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]);const vs=is;const xs=function(e){var r=e.context,s=e.tone,o=e.length,a=e.triggerGenerate,i=(0,n.useState)(""),c=i[0],l=i[1],d=(0,n.useState)(!1),A=d[0],u=d[1];return(0,n.useEffect)((function(){var e,t,n,i;a&&(e=void 0,t=void 0,i=function(){var e,t,n;return function(e,t){var n,r,s,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=i(0),a.throw=i(1),a.return=i(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(o=0)),o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(a){switch(a.label){case 0:u(!0),e=new vs({apiKey:"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",dangerouslyAllowBrowser:!0}),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,e.chat.completions.create({model:"gpt-4",messages:[{role:"system",content:"You are an assistant that generates professional email responses."},{role:"user",content:"Context: ".concat(r,"\n\nTone: ").concat(s,"\n\nLength: ").concat(o,"\n\nPlease generate an email response based on this context.")}],max_tokens:150,temperature:.5})];case 2:return t=a.sent(),l(t.choices[0].message.content||""),[3,5];case 3:return n=a.sent(),console.error("Error generating response:",n),l("Error generating the response. Please try again."),[3,5];case 4:return u(!1),[7];case 5:return[2]}}))},new((n=void 0)||(n=Promise))((function(r,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())})))}),[a]),(0,t.jsxs)("div",{className:"mt-2",children:[A&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:(0,t.jsx)("div",{className:"text-center text-white",children:(0,t.jsx)("div",{className:"border-4 border-white border-opacity-30 border-t-4 border-t-white rounded-full w-10 h-10 animate-spin"})})}),c&&(0,t.jsxs)("div",{className:"text-[#222] mt-3 p-4 mb-1 bg-gray-100 rounded-md",children:[(0,t.jsx)("h3",{className:"font-bold mb-2",children:"Generated Response:"}),(0,t.jsx)("p",{children:c})]})]})};function Es(e){return O({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(e)}function Bs(e){return O({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.29 192.31a64 64 0 1 0 57.4 57.4 64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22 155.3 155.3 0 0 1-21.46-12.57 16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22 155.3 155.3 0 0 1 21.46 12.57 16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z"},child:[]}]})(e)}function _s(e){return O({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.76282 17H20V5H4V18.3851L5.76282 17ZM6.45455 19L2 22.5V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V18C22 18.5523 21.5523 19 21 19H6.45455ZM11 14H13V16H11V14ZM8.56731 8.81346C8.88637 7.20919 10.302 6 12 6C13.933 6 15.5 7.567 15.5 9.5C15.5 11.433 13.933 13 12 13H11V11H12C12.8284 11 13.5 10.3284 13.5 9.5C13.5 8.67157 12.8284 8 12 8C11.2723 8 10.6656 8.51823 10.5288 9.20577L8.56731 8.81346Z"},child:[]}]})(e)}function Ss(e){return O({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z"},child:[]}]})(e)}const Cs=function(){return(0,t.jsxs)("div",{className:"bg-white pt-6 pb-3 px-7 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"font-semibold text-gray-700",children:"ChatGPT Writer"}),(0,t.jsxs)("span",{className:"ml-2 text-xs bg-gray-200 text-gray-600 px-1.5 py-0.5 rounded flex items-center gap-2 rounded-lg",children:["PRO ",(0,t.jsx)(Ss,{})]})]}),(0,t.jsxs)("div",{className:"w-[120px] flex items-center justify-between",children:[(0,t.jsx)("button",{className:"text-gray-400 hover:text-gray-600 text-2xl",children:(0,t.jsx)(Bs,{})}),(0,t.jsx)("button",{className:"text-gray-400 hover:text-gray-600 text-2xl",children:(0,t.jsx)(_s,{})}),(0,t.jsx)("button",{className:"text-gray-400 hover:text-gray-600 text-2xl",onClick:function(){window.parent.postMessage({type:"TOGGLE_DIALOG"},"*")},children:(0,t.jsx)(ee,{})})]})]})};function ks(e){return O({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}const js=function(){var e=(0,n.useState)(""),r=e[0],s=e[1],o=(0,n.useState)(""),a=o[0],i=o[1],c=(0,n.useState)("GPT 4o Mini"),l=(c[0],c[1]),d=(0,n.useState)("Writing tone"),A=d[0],u=d[1],h=(0,n.useState)("Length"),f=h[0],p=h[1],m=(0,n.useState)(!1),g=m[0],y=m[1],w=(0,n.useState)(!1),b=w[0],v=w[1],E=function(e){v(!e)},B=(0,n.useState)({width:700,height:300}),_=(B[0],B[1],window.innerWidth/2-350),S=window.innerHeight/2-150,C=(0,n.useState)({x:_,y:S});return C[0],C[1],(0,t.jsx)(x(),{children:(0,t.jsxs)("div",{className:"cursor-pointer w-[700px] bg-white shadow-lg rounded-lg overflow-hidden position-relative",style:{zIndex:"9999991",left:"50vw - 350px",top:"50vh - 100px"},children:[(0,t.jsx)(Cs,{}),!b&&(0,t.jsxs)("div",{className:"cursor-pointer t-[32px] m-[35px] flex items-center text-[#222] gap-2 ml-8 rounded border border-brown w-[107px] p-1 bg-yellow text-[13px]",onClick:function(){return E(!1)},children:["Add Context",(0,t.jsx)(ks,{})]}),(0,t.jsxs)("div",{className:"m-4 border border-brown rounded-custom-small",children:[b&&(0,t.jsx)(N,{hadleContext:E,placeholder:"Add any additional information for your prompt",value:r,onChange:s}),(0,t.jsx)(D,{placeholder:"Enter your prompt for the AI",value:a,onChange:i}),(0,t.jsxs)("div",{className:"ml-4 flex space-x-2 justify-between px-3",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(te,{onChange:l}),(0,t.jsx)(re,{onChange:u}),(0,t.jsx)(se,{onChange:p})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:function(){y((function(e){return!e}))},className:"bg-gradient-to-r from-blue-300 to-blue-500 rounded-xl py-2 px-4 h-[36px]",children:(0,t.jsx)(Es,{color:"#fff",fontSize:20,height:36})})})]}),(0,t.jsx)(xs,{context:r,tone:A,length:f,triggerGenerate:g})]})]})})};var Os=null,Ps=!1;function Ms(e,n){Ps=!Ps,(null==Os||n)&&(Os=a.createRoot(e)),n&&(Ps=!0),Ps?Os.render((0,t.jsx)(r().StrictMode,{children:(0,t.jsx)(js,{})})):Os.render(null)}})(),o})()));
//# sourceMappingURL=modal.js.map