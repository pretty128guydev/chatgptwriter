if(!window.gptLoaded){window.gptLoaded=!0;const e=e=>new Promise(((o,t)=>{console.log("Loading script...");const n=document.createElement("script");n.src=e,n.onload=()=>o(),n.onerror=()=>t(new Error(`Failed to load script: ${e}`)),document.head.appendChild(n)}));let o;const t=()=>{let e=!1;if(null==o||!document.contains(o)){let t=document.createElement("div");t.style.position="fixed",t.style.display="flex",t.style.zIndex="9999990",t.style.left="calc(50vw - 350px)",t.style.top="calc(50vh - 250px)",document.body.appendChild(t),o=t,e=!0,n()}toggleModal(o,e)},n=async()=>{await e(chrome.runtime.getURL("react.production.min.js")),await e(chrome.runtime.getURL("react-dom.production.min.js")),await e(chrome.runtime.getURL("modal.js"))};chrome.runtime.onMessage.addListener(((e,o,n)=>{"toggleDialog"===e.action&&t()})),window.addEventListener("message",(e=>{if(e.origin!==window.location.origin)return;const{type:o}=e.data;"TOGGLE_DIALOG"===o&&(console.log("Toggle dialog received"),t())}))}